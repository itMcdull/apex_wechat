{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/util/cache.js","webpack:///./src/util/pool.js","webpack:///./src/util/tool.js","webpack:///./src/node/element.js","webpack:///./src/event/event.js","webpack:///./src/node/node.js","webpack:///./src/event/event-target.js","webpack:///./src/document.js","webpack:///./src/event/custom-event.js","webpack:///./src/node/class-list.js","webpack:///./src/node/style.js","webpack:///./src/node/attribute.js","webpack:///./src/node/text-node.js","webpack:///./src/node/comment.js","webpack:///./src/index.js","webpack:///./src/window.js","webpack:///./src/tree/tree.js","webpack:///./src/node/style-list.js","webpack:///./src/node/element/a.js","webpack:///./src/node/element/image.js","webpack:///./src/node/element/input.js","webpack:///./src/node/element/textarea.js","webpack:///./src/node/element/video.js","webpack:///./src/node/element/canvas.js","webpack:///./src/node/element/select.js","webpack:///./src/node/element/option.js","webpack:///./src/node/element/not-support.js","webpack:///./src/node/element/wx-component.js","webpack:///./src/node/element/wx-custom-component.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","pageMap","configCache","cookieCache","init","pageId","options","window","document","nodeIdMap","destroy","getDocument","getWindow","getWindowList","keys","map","setNode","nodeId","domNode","parentNode","body","getNode","setConfig","config","getConfig","getCookie","size","this","$_size","$_cache","length","push","pop","cache","WX_COMPONENT_MAP","forEach","seed","Date","waitFuncSet","Set","NOT_SUPPORT_TAG_NAME_LIST","checkIsWxComponent","tagName","notNeedPrefix","hasPrefix","indexOf","slice","toDash","str","replace","all","toLowerCase","toCSSDash","v","toCamel","$1","toUpperCase","getId","getPageRoute","split","getPageName","pageRoute","pluginMatchRes","match","splitPageRoute","throttle","func","has","add","Promise","resolve","then","delete","catch","console","error","flushThrottleCache","waitFunc","clear","completeURL","url","defaultOrigin","notTransHttps","origin","decodeContent","content","isTagNameSupport","escapeForHtmlGeneration","setData","instance","data","_startInit","_iniCount","$$trigger","Node","ClassList","Style","Attribute","tool","pool","Element","tree","optimization","elementMultiplexing","$$init","type","super","$_tagName","$_children","$_nodeType","nodeType","ELEMENT_NODE","$_notTriggerUpdate","$_dataset","$_classList","$_style","$_attrs","$$scrollTop","$$scrollTimeStamp","$_initAttrs","attrs","onclick","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onload","onerror","$$destroy","$_unary","_wxComponent","_wxCustomComponent","child","$$recycle","$__dataset","$__classList","$$create","$_onClassOrStyleUpdate","$__style","$__attrs","$_triggerParentUpdate","attrKeys","datasetName","substr","setAttribute","triggerUpdate","$_triggerWindowUpdate","$_pageId","node","isRemove","id","$$nodeId","$_tree","updateIdMap","childNodes","$_updateChildrenExtra","$$pageId","$_type","className","style","cssText","slot","getAttribute","html","reject","$$createSelectorQuery","selectViewport","scrollOffset","res","Error","exec","select","$_nodeId","boundingClientRect","wx","createSelectorQuery","in","$$wxComponent","context","set","args","wxComponent","$$wxCustomComponent","scrollSource","animate","clearAnimation","trim","oldId","getById","toString","$$parse","filter","textContent","text","join","$$updateParent","ownerDocument","$$createTextNode","appendChild","list","parseInt","pageScrollTo","scrollTop","duration","deep","dataset","newNode","$$createElement","class","src","$$dealWithAttrsForCloneNode","attrsMap","attrName","cloneNode","nodes","hasUpdate","DOCUMENT_FRAGMENT_NODE","concat","removeChild","$_triggerMeUpdate","index","splice","ref","insertIndex","old","replaceIndex","getByTagName","getByClassName","selector","query","valueType","undefined","Array","isArray","JSON","parse","oldValue","oldKeys","removeAttribute","handler","removeEventListener","addEventListener","remove","namespace","warn","hasAttribute","otherElement","stack","checkElement","$$getBoundingClientRect","Event","$_name","$_target","target","$_timeStamp","timeStamp","now","$_currentTarget","currentTarget","$_eventPhase","eventPhase","NONE","$_detail","detail","$_immediateStop","$_canBubble","$_bubbles","bubbles","$_touches","$_targetTouches","$_changedTouches","$_cancelable","$_preventDefault","extra","$$extra","touches","touch","$$checkTargetTouches","changedTouches","node1","node2","checkRelation","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","EventTarget","$_parentNode","len","TEXT_NODE","CDATA_SECTION_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","CustomEvent","compareTouchList","a","b","aItem","bItem","identifier","pageX","pageY","clientX","clientY","oninput","onfocus","onblur","onchange","$_miniprogramEvent","$_eventHandlerMap","$__eventHandlerMap","eventName","miniprogramEvent","callback","event","$$setTarget","path","assign","$$canBubble","behavior","$$setCurrentTarget","$$setEventPhase","isCapture","isTarget","stopPropagation","isInit","handlerMap","handlerObj","capture","bubble","handlers","$_getHandlers","onEventName","$$immediateStop","returnValue","err","$$triggerWindowError","_namespace","namespaceHandlers","last","flag","$$namespace","bubbleHandlers","captureHandlers","defaultView","evt","$$process","Tree","TextNode","Comment","A","Image","Input","Textarea","Video","Canvas","Select","Option","NotSupport","WxComponent","WxCustomComponent","CONSTRUCTOR_MAP","IMG","INPUT","TEXTAREA","VIDEO","CANVAS","SELECT","OPTION","WX_COMPONENT_TRANSFORM_LIST","WX_CUSTOM_COMPONENT_MAP","transformWxComponent2Dom","wxComponentName","groupEvent","element","$$isGroup","stopImmediatePropagation","querySelectorAll","item","checked","runtime","cookieStore","usingComponents","pageName","that","$_imageConstructor","width","height","unary","children","$_config","$_node","$_head","createElement","root","$$children","cookie","getStorageSync","$$cookieInstance","deserialize","$_visibilityState","documentElement","originTagName","constructorClass","$$notNeedPrefix","componentName","start","startSplit","nextSplit","cookies","lastSplitStr","substring","splitStr","test","location","href","$$createComment","dispatchEvent","Pool","onUpdate","domExtendMultiplexing","$_doUpdate","isUpdate","force","isNotContain","action","styleList","$_disableCheckUpdate","joinText","styleText","rules","rule","$_checkUpdate","properties","styleValueReduce","defineProperties","$_element","$_map","$_list","attrValueReduce","$$node","idValue","classValue","styleValue","textMultiplexing","$_content","commentMultiplexing","Window","Document","route","$$adapter","OriginalCustomEvent","lastRafTime","WINDOW_PROTOTYPE_MAP","ELEMENT_PROTOTYPE_MAP","attribute","classList","subscribeMap","globalObject","noop","timeOrigin","$_outerHeight","$_outerWidth","$_innerHeight","$_innerWidth","$_nowFetchingWebviewInfoPromise","$_fetchDeviceInfo","$_initInnerEvent","onhashchange","$_elementConstructor","$_customEventConstructor","HTMLIFrameElement","info","getSystemInfoSync","screenHeight","screenWidth","windowHeight","windowWidth","$_screen","$$reset","$_navigator","descriptor","main","sub","method","$_miniprogram","handlersMap","dom","computedStyle","fields","errStack","errLines","message","line","filename","lineno","colno","$$isOfficial","oldOnError","$$getPrototype","$_getAspectInfo","methodInPrototype","$$isHook","beforeFuncs","$$before","afterFuncs","$$after","beforeFunc","apply","afterFunc","$$originalMethod","$_location","$_localStorage","$_sessionStorage","$_history","$$imageConstructor","setTimeout","clearTimeout","setInterval","clearInterval","RegExp","Math","Number","Boolean","String","parseFloat","$_performance","$_xmlHttpRequestConstructor","$_workerConstructor","$_sharedWorkerConstructor","pixelRatio","$$open","navigateBack","delta","transitionDelay","transitionDuration","animationDelay","animationDuration","nextRafTime","max","timeId","walkDomTree","tagMap","classMap","idMap","walk","ast","childNode","findNode","HTMLAnchorElement","$_protocol","$_hostname","$_port","$_pathname","$_search","$_hash","$_naturalWidth","$_naturalHeight","$_initRect","widthNum","isNaN","heightNum","rect","isFinite","HTMLInputElement","disabled","maxlength","placeholder","mpplaceholderclass","HTMLTextAreaElement","HTMLVideoElement","HTMLCanvasElement","$$getNodesRef","nodesRef","getContext","createPath2D","createImage","createImageData","requestAnimationFrame","cancelAnimationFrame","toDataURL","HTMLSelectElement","$$resetOptions","$$updateSelected","selectedIndex","option","find","selected","$$setAttributeWithoutUpdate","findIndex","HTMLOptionElement","label","onDealWithNotSupportDom","scrollItem","getElementById","propName","rectName","scrollRect","itemRect","$_behavior","realName"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","const pageMap = {}\nlet configCache = {}\nconst cookieCache = {}\n\n/**\n * \n */\nfunction init(pageId, options) {\n    pageMap[pageId] = {\n        window: options.window,\n        document: options.document,\n        nodeIdMap: options.nodeIdMap,\n    }\n}\n\n/**\n * \n */\nfunction destroy(pageId) {\n    delete pageMap[pageId]\n}\n\n/**\n *  document\n */\nfunction getDocument(pageId) {\n    return pageMap[pageId] && pageMap[pageId].document\n}\n\n/**\n *  window\n */\nfunction getWindow(pageId) {\n    return pageMap[pageId] && pageMap[pageId].window\n}\n\n/**\n *  window \n */\nfunction getWindowList() {\n    return Object.keys(pageMap).map(pageId => pageMap[pageId].window)\n}\n\n/**\n *  domNode \n */\nfunction setNode(pageId, nodeId, domNode = null) {\n    const document = pageMap[pageId] && pageMap[pageId].document\n\n    // \n    if (!document) return\n    // \n    if (!domNode) return pageMap[pageId].nodeIdMap[nodeId] = domNode\n\n    let parentNode = domNode.parentNode\n\n    while (parentNode && parentNode !== document.body) {\n        parentNode = parentNode.parentNode\n    }\n\n    pageMap[pageId].nodeIdMap[nodeId] = parentNode === document.body ? domNode : null\n}\n\n/**\n *  nodeId  domNode\n */\nfunction getNode(pageId, nodeId) {\n    return pageMap[pageId] && pageMap[pageId].nodeIdMap[nodeId]\n}\n\n/**\n *  config\n */\nfunction setConfig(config) {\n    configCache = config\n}\n\n/**\n *  config\n */\nfunction getConfig() {\n    return configCache\n}\n\n/**\n *  cookie\n */\nfunction getCookie() {\n    return cookieCache\n}\n\nmodule.exports = {\n    init,\n    destroy,\n    getDocument,\n    getWindow,\n    getWindowList,\n    setNode,\n    getNode,\n    setConfig,\n    getConfig,\n    getCookie,\n}\n","class Pool {\r\n    constructor(size) {\r\n        this.$_size = size || 3000\r\n        this.$_cache = []\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    add(object) {\r\n        if (this.$_cache.length >= this.$_size) return\r\n\r\n        this.$_cache.push(object)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get() {\r\n        return this.$_cache.pop()\r\n    }\r\n}\r\n\r\nmodule.exports = Pool\r\n","const cache = require('./cache')\n\n/**\n * \n */\nconst WX_COMPONENT_MAP = {}\nconst WX_COMPONENT_LIST = [\n    'cover-image', 'cover-view', 'match-media', 'movable-area', 'movable-view', 'page-container', 'scroll-view', 'swiper', 'swiper-item', 'view',\n    'icon', 'progress', 'rich-text', 'text',\n    'button', 'checkbox', 'checkbox-group', 'editor', 'form', 'input', 'label', 'picker', 'picker-view', 'picker-view-column', 'radio', 'radio-group', 'slider', 'switch', 'textarea',\n    'functional-page-navigator', 'navigator',\n    'audio', 'camera', 'image', 'live-player', 'live-pusher', 'video', 'voip-room',\n    'map',\n    'canvas',\n    'ad', 'ad-custom', 'official-account', 'open-data', 'web-view',\n    // \n    'capture', 'catch', 'animation'\n]\nWX_COMPONENT_LIST.forEach(name => WX_COMPONENT_MAP[name] = name)\nfunction checkIsWxComponent(tagName, notNeedPrefix) {\n    const hasPrefix = tagName.indexOf('wx-') === 0\n    if (notNeedPrefix) {\n        return hasPrefix ? WX_COMPONENT_MAP[tagName.slice(3)] : WX_COMPONENT_MAP[tagName]\n    } else {\n        return hasPrefix ? WX_COMPONENT_MAP[tagName.slice(3)] : false\n    }\n}\n\n/**\n * \n */\nfunction toDash(str) {\n    return str.replace(/[A-Z]/g, all => `-${all.toLowerCase()}`)\n}\n\n/**\n * \n */\nfunction toCSSDash(str) {\n    let v = str.replace(/[A-Z]/g, all => `-${all.toLowerCase()}`)\n    if (v.indexOf('webkit') === 0) {\n        v = '-' + v\n    }\n    return v\n}\n\n/**\n * \n */\nfunction toCamel(str) {\n    return str.replace(/-([a-zA-Z])/g, (all, $1) => $1.toUpperCase())\n}\n\n/**\n *  id\n */\nlet seed = +new Date()\nfunction getId() {\n    return seed++\n}\n\n/**\n *  pageId  route\n */\nfunction getPageRoute(pageId) {\n    return pageId.split('-')[2]\n}\n\n/**\n *  pageRoute \n */\nfunction getPageName(pageRoute) {\n    const pluginMatchRes = pageRoute.match(/(?:^|\\/)__plugin__\\/(?:.*?)(\\/.*)/)\n    if (pluginMatchRes && pluginMatchRes[1]) {\n        //  route \n        pageRoute = pluginMatchRes[1]\n    }\n    const splitPageRoute = pageRoute.split('/')\n    return splitPageRoute[1] === 'pages' ? splitPageRoute[2] : splitPageRoute[1]\n}\n\n/**\n * \n */\nconst waitFuncSet = new Set()\nfunction throttle(func) {\n    return () => {\n        if (waitFuncSet.has(func)) return\n\n        waitFuncSet.add(func)\n\n        Promise.resolve().then(() => {\n            if (waitFuncSet.has(func)) {\n                waitFuncSet.delete(func)\n                func()\n            }\n        }).catch(console.error)\n    }\n}\n\n/**\n * \n */\nfunction flushThrottleCache() {\n    waitFuncSet.forEach(waitFunc => waitFunc && waitFunc())\n    waitFuncSet.clear()\n}\n\n/**\n *  url\n */\nfunction completeURL(url, defaultOrigin, notTransHttps) {\n    const config = cache.getConfig()\n\n    //  url \n    if (url.indexOf('//') === 0) {\n        url = 'https:' + url\n    } else if (url[0] === '/') {\n        url = (config.origin || defaultOrigin) + url\n    }\n\n    if (!notTransHttps && url.indexOf('http:') === 0) {\n        url = url.replace(/^http:/ig, 'https:')\n    }\n\n    return url\n}\n\n/**\n * \n */\nfunction decodeContent(content) {\n    return content\n        .replace(/&nbsp;/g, '\\u00A0')\n        .replace(/&ensp;/g, '\\u2002')\n        .replace(/&emsp;/g, '\\u2003')\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&quot;/g, '\"')\n        .replace(/&apos;/g, '\\'')\n        .replace(/&amp;/g, '&')\n}\n\n/**\n * \n */\nconst NOT_SUPPORT_TAG_NAME_LIST = ['IFRAME']\nfunction isTagNameSupport(tagName) {\n    return NOT_SUPPORT_TAG_NAME_LIST.indexOf(tagName) === -1\n}\n\n/**\n *  innerHTML/outerHTML \n */\nfunction escapeForHtmlGeneration(value) {\n    return value.replace(/\"/g, '&quot;')\n}\n\n/**\n * setData \n */\nfunction setData(instance, data) {\n    const pageId = instance.pageId\n    const window = pageId ? cache.getWindow(pageId) : null\n    if (window && window._startInit) {\n        //  init  setData\n        window._iniCount++\n        instance.setData(data, () => {\n            window._iniCount--\n            if (!window._startInit && window._iniCount <= 0) {\n                // \n                window.document.$$trigger('DOMContentLoaded')\n                window._iniCount = 0\n            }\n        })\n        return\n    }\n\n    //  setData\n    instance.setData(data)\n}\n\nmodule.exports = {\n    checkIsWxComponent,\n    toDash,\n    toCSSDash,\n    toCamel,\n    getId,\n    getPageRoute,\n    getPageName,\n    throttle,\n    flushThrottleCache,\n    completeURL,\n    decodeContent,\n    isTagNameSupport,\n    escapeForHtmlGeneration,\n    setData,\n}\n","const Node = require('./node')\nconst ClassList = require('./class-list')\nconst Style = require('./style')\nconst Attribute = require('./attribute')\nconst cache = require('../util/cache')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\n\nconst pool = new Pool()\n\nclass Element extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Element(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'element'\n\n        super.$$init(options, tree)\n\n        this.$_tagName = options.tagName || ''\n        this.$_children = []\n        this.$_nodeType = options.nodeType || Node.ELEMENT_NODE\n        this.$_notTriggerUpdate = false\n        this.$_dataset = null\n        this.$_classList = null\n        this.$_style = null\n        this.$_attrs = null\n\n        this.$$scrollTop = 0\n        this.$$scrollTimeStamp = 0 // \n\n        this.$_initAttrs(options.attrs)\n\n        //  'xxx' in XXX \n        this.onclick = null\n        this.ontouchstart = null\n        this.ontouchmove = null\n        this.ontouchend = null\n        this.ontouchcancel = null\n        this.onload = null\n        this.onerror = null\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_tagName = ''\n        this.$_children.length = 0\n        this.$_nodeType = Node.ELEMENT_NODE\n        this.$_unary = null\n        this.$_notTriggerUpdate = false\n        this.$_dataset = null\n        this.$_classList = null\n        this.$_style = null\n        this.$_attrs = null\n\n        this._wxComponent = null\n        this._wxCustomComponent = null\n\n        this.$$scrollTop = 0\n        this.$$scrollTimeStamp = 0\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$_children.forEach(child => child.$$recycle())\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    set $_dataset(value) {\n        this.$__dataset = value\n    }\n\n    get $_dataset() {\n        if (!this.$__dataset) this.$__dataset = Object.create(null)\n        return this.$__dataset\n    }\n\n    set $_classList(value) {\n        if (!value && this.$__classList) this.$__classList.$$recycle()\n        this.$__classList = value\n    }\n\n    get $_classList() {\n        if (!this.$__classList) this.$__classList = ClassList.$$create(this.$_onClassOrStyleUpdate.bind(this))\n        return this.$__classList\n    }\n\n    set $_style(value) {\n        if (!value && this.$__style) this.$__style.$$recycle()\n        this.$__style = value\n    }\n\n    get $_style() {\n        if (!this.$__style) this.$__style = Style.$$create(this.$_onClassOrStyleUpdate.bind(this))\n        return this.$__style\n    }\n\n    set $_attrs(value) {\n        if (!value && this.$__attrs) this.$__attrs.$$recycle()\n        this.$__attrs = value\n    }\n\n    get $_attrs() {\n        if (!this.$__attrs) this.$__attrs = Attribute.$$create(this, this.$_triggerParentUpdate.bind(this))\n        return this.$__attrs\n    }\n\n    /**\n     * \n     */\n    $_initAttrs(attrs = {}) {\n        //  $_attrs\n        const attrKeys = Object.keys(attrs)\n        if (!attrKeys.length) return\n\n        this.$_notTriggerUpdate = true // \n\n        attrKeys.forEach(name => {\n            if (name.indexOf('data-') === 0) {\n                // dataset\n                const datasetName = tool.toCamel(name.substr(5))\n                this.$_dataset[datasetName] = attrs[name]\n            } else {\n                // \n                this.setAttribute(name, attrs[name])\n            }\n        })\n\n        this.$_notTriggerUpdate = false // \n    }\n\n    /**\n     *  class  style \n     */\n    $_onClassOrStyleUpdate() {\n        if (this.$__attrs) this.$_attrs.triggerUpdate()\n        this.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        if (this.parentNode && !this.$_notTriggerUpdate) {\n            this.parentNode.$$trigger('$$childNodesUpdate')\n            this.$_triggerWindowUpdate()\n        }\n        if (!this.$_notTriggerUpdate) this.$$trigger('$$domNodeUpdate')\n    }\n\n    /**\n     * \n     */\n    $_triggerMeUpdate() {\n        if (!this.$_notTriggerUpdate) {\n            this.$$trigger('$$childNodesUpdate')\n            this.$_triggerWindowUpdate()\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerWindowUpdate() {\n        const window = cache.getWindow(this.$_pageId)\n        window.$$trigger('$$domTreeUpdate')\n    }\n\n    /**\n     * \n     */\n    $_updateChildrenExtra(node, isRemove) {\n        const id = node.id\n\n        //  nodeId - dom \n        if (isRemove) {\n            cache.setNode(this.$_pageId, node.$$nodeId, null)\n        } else {\n            cache.setNode(this.$_pageId, node.$$nodeId, node)\n        }\n\n        //  id - dom \n        if (id) {\n            if (isRemove) {\n                this.$_tree.updateIdMap(id, null)\n            } else {\n                this.$_tree.updateIdMap(id, node)\n            }\n        }\n\n        if (node.childNodes && node.childNodes.length) {\n            for (const child of node.childNodes) {\n                this.$_updateChildrenExtra(child, isRemove)\n            }\n        }\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$$nodeId,\n            pageId: this.$$pageId,\n            type: this.$_type,\n            tagName: this.$_tagName,\n            id: this.id,\n            className: this.className,\n            style: this.$__style ? this.style.cssText : '',\n            slot: this.getAttribute('slot'),\n        }\n    }\n\n    /**\n     * \n     */\n    get $$isUnary() {\n        return this.$_unary\n    }\n\n    /**\n     * \n     */\n    get $$wxComponent() {\n        return this._wxComponent\n    }\n\n    /**\n     * \n     */\n    get $$wxCustomComponent() {\n        return this._wxCustomComponent\n    }\n\n    /**\n     * \n     */\n    get $$children() {\n        return this.$_children\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html) {\n        // \n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML() {\n        // ignore\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        // \n        return {}\n    }\n\n    /**\n     *  getBoundingClientRect \n     * https://developers.weixin.qq.com/miniprogram/dev/api.swan/NodesRef.scrollOffset.html\n     * https://developers.weixin.qq.com/miniprogram/dev/api.swan/NodesRef.boundingClientRect.html\n     */\n    $$getBoundingClientRect() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n\n            if (this.tagName === 'BODY') {\n                window.$$createSelectorQuery().selectViewport().scrollOffset(res => (res ? resolve(res) : reject(new Error('body not found in webview')))).exec()\n            } else {\n                window.$$createSelectorQuery().select(`.node-${this.$_nodeId}`).boundingClientRect(res => (res ? resolve(res) : reject(new Error('element not found in webview')))).exec()\n            }\n        })\n    }\n\n    /**\n     *  context \n     */\n    $$getContext() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n\n            if (this.tagName === 'CANVAS') {\n                // TODO bug\n                swan.createSelectorQuery().in(this.$$wxComponent).select(`.node-${this.$_nodeId}`).context(res => (res && res.context ? resolve(res.context) : reject()))\n                    .exec()\n            } else {\n                window.$$createSelectorQuery().select(`.node-${this.$_nodeId}`).context(res => (res && res.context ? resolve(res.context) : reject())).exec()\n            }\n        })\n    }\n\n    /**\n     *  NodesRef \n     * https://developers.weixin.qq.com/miniprogram/dev/api.swan/NodesRef.html\n     */\n    $$getNodesRef() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n\n            if (this.tagName === 'CANVAS') {\n                // TODO bug\n                resolve(swan.createSelectorQuery().in(this.$$wxComponent).select(`.node-${this.$_nodeId}`))\n            } else {\n                resolve(window.$$createSelectorQuery().select(`.node-${this.$_nodeId}`))\n            }\n        })\n    }\n\n    /**\n     * \n     */\n    $$setAttributeWithoutUpdate(name, value) {\n        if (typeof name !== 'string') return\n\n        this.$_notTriggerUpdate = true\n        this.$_attrs.set(name, value)\n        this.$_notTriggerUpdate = false\n    }\n\n    /**\n     * /\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html\n     */\n    $$animate(...args) {\n        const wxComponent = this.$$wxCustomComponent || this.$$wxComponent\n        if (!wxComponent) {\n            console.error('this element has not been attached yet')\n        } else {\n            if (typeof args[2] === 'object' && args[2].scrollSource) {\n                args[2].scrollSource = `${args[2].scrollSource}`\n            }\n            wxComponent.animate(`.node-${this.$_nodeId}`, ...args)\n        }\n    }\n\n    /**\n     * /\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html\n     */\n    $$clearAnimation(...args) {\n        const wxComponent = this.$$wxCustomComponent || this.$$wxComponent\n        if (!wxComponent) {\n            console.error('this element has not been attached yet')\n        } else {\n            if (typeof args[2] === 'object' && args[2].scrollSource) {\n                args[2].scrollSource = `${args[2].scrollSource}`\n            }\n            wxComponent.clearAnimation(`.node-${this.$_nodeId}`, ...args)\n        }\n    }\n\n    /**\n     * \n     */\n    get id() {\n        if (!this.$__attrs) return ''\n\n        return this.$_attrs.get('id')\n    }\n\n    set id(id) {\n        if (typeof id !== 'string') return\n\n        id = id.trim()\n        const oldId = this.$_attrs.get('id')\n        this.$_attrs.set('id', id)\n\n        if (id === oldId) return\n\n        //  tree\n        if (this.$_tree.getById(oldId) === this) this.$_tree.updateIdMap(oldId, null)\n        if (id) this.$_tree.updateIdMap(id, this)\n        this.$_triggerParentUpdate()\n    }\n\n    get tagName() {\n        return this.$_tagName.toUpperCase()\n    }\n\n    get className() {\n        if (!this.$__classList) return ''\n\n        return this.$_classList.toString()\n    }\n\n    set className(className) {\n        if (typeof className !== 'string') return\n\n        this.$_classList.$$parse(className)\n    }\n\n    get classList() {\n        return this.$_classList\n    }\n\n    get nodeName() {\n        return this.tagName\n    }\n\n    get nodeType() {\n        return this.$_nodeType\n    }\n\n    get childNodes() {\n        return this.$_children\n    }\n\n    get children() {\n        return this.$_children.filter(child => child.nodeType === Node.ELEMENT_NODE)\n    }\n\n    get firstChild() {\n        return this.$_children[0]\n    }\n\n    get lastChild() {\n        return this.$_children[this.$_children.length - 1]\n    }\n\n    get innerText() {\n        // WARN textContent \n        return this.textContent\n    }\n\n    set innerText(text) {\n        this.textContent = text\n    }\n\n    get textContent() {\n        return this.$_children.map(child => child.textContent).join('')\n    }\n\n    set textContent(text) {\n        text = '' + text\n\n        // \n        this.$_children.forEach(node => {\n            node.$$updateParent(null)\n\n            // \n            this.$_updateChildrenExtra(node, true)\n        })\n        this.$_children.length = 0\n\n        //  textNode \n        if (!text) return\n\n        const nodeId = `b-${tool.getId()}` //  b- \n        const child = this.ownerDocument.$$createTextNode({content: text, nodeId})\n\n        this.appendChild(child)\n    }\n\n    get style() {\n        return this.$_style\n    }\n\n    set style(value) {\n        this.$_style.cssText = value\n    }\n\n    get dataset() {\n        return this.$_dataset\n    }\n\n    get attributes() {\n        return this.$_attrs.list\n    }\n\n    get src() {\n        if (!this.$__attrs) return ''\n\n        return this.$_attrs.get('src')\n    }\n\n    set src(value) {\n        value = '' + value\n        this.$_attrs.set('src', value)\n    }\n\n    get scrollTop() {\n        //  windowScroll  document.body.$$getBoundingClientRect \n        return this.$$scrollTop\n    }\n\n    set scrollTop(value) {\n        if (this.$_tagName !== 'html') return //  document.documentElement  scrollTop\n        if (+new Date() - this.$$scrollTimeStamp < 500) return //  mp-webpack-plugin@0.9.14  500ms  scrollTop \n\n        value = parseInt(value, 10)\n        swan.pageScrollTo({scrollTop: value, duration: 0})\n        this.$$scrollTop = value\n    }\n\n    cloneNode(deep) {\n        const dataset = {}\n        Object.keys(this.$_dataset).forEach(name => {\n            dataset[`data-${tool.toDash(name)}`] = this.$_dataset[name]\n        })\n\n        const newNode = this.ownerDocument.$$createElement({\n            tagName: this.$_tagName,\n            attrs: {\n                id: this.id,\n                class: this.className,\n                style: this.style.cssText,\n                src: this.src,\n\n                ...dataset,\n                ...this.$$dealWithAttrsForCloneNode(),\n            },\n            nodeType: this.$_nodeType,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n\n        // \n        if (this.$__attrs) {\n            const attrsMap = this.$_attrs.map\n            Object.keys(attrsMap).forEach(attrName => newNode.setAttribute(attrName, attrsMap[attrName]))\n        }\n\n        if (deep) {\n            // \n            for (const child of this.$_children) {\n                newNode.appendChild(child.cloneNode(deep))\n            }\n        }\n\n        return newNode\n    }\n\n    appendChild(node) {\n        if (!(node instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = [].concat(node.childNodes)\n        } else {\n            nodes = [node]\n        }\n\n        if (!nodes.length) hasUpdate = true //  update innerHTML \n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            this.$_children.push(node)\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n\n            hasUpdate = true\n        }\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return node\n    }\n\n    removeChild(node) {\n        if (!(node instanceof Node)) return\n\n        const index = this.$_children.indexOf(node)\n\n        if (index >= 0) {\n            // \n            this.$_children.splice(index, 1)\n\n            node.$$updateParent(null)\n\n            // \n            this.$_updateChildrenExtra(node, true)\n\n            //  webview \n            this.$_triggerMeUpdate()\n        }\n\n        return node\n    }\n\n    insertBefore(node, ref) {\n        if (!(node instanceof Node)) return\n        if (ref && !(ref instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = []\n            for (let i = 0; i < node.childNodes.length; i++) {\n                // \n                nodes.push(node.childNodes[i])\n            }\n        } else {\n            nodes = [node]\n        }\n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            const insertIndex = ref ? this.$_children.indexOf(ref) : -1\n\n            if (insertIndex === -1) {\n                // \n                this.$_children.push(node)\n            } else {\n                //  ref \n                this.$_children.splice(insertIndex, 0, node)\n            }\n\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n\n            hasUpdate = true\n        }\n\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return node\n    }\n\n    replaceChild(node, old) {\n        if (!(node instanceof Node) || !(old instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = []\n            for (let i = node.childNodes.length - 1; i >= 0; i--) {\n                // \n                nodes.push(node.childNodes[i])\n            }\n        } else {\n            nodes = [node]\n        }\n\n        const replaceIndex = this.$_children.indexOf(old)\n        if (replaceIndex !== -1) this.$_children.splice(replaceIndex, 1)\n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            if (replaceIndex === -1) {\n                // \n                this.$_children.push(node)\n            } else {\n                //  old\n                this.$_children.splice(replaceIndex, 0, node)\n            }\n\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n            this.$_updateChildrenExtra(old, true)\n\n            hasUpdate = true\n        }\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return old\n    }\n\n    hasChildNodes() {\n        return this.$_children.length > 0\n    }\n\n    getElementsByTagName(tagName) {\n        if (typeof tagName !== 'string') return []\n\n        return this.$_tree.getByTagName(tagName, this)\n    }\n\n    getElementsByClassName(className) {\n        if (typeof className !== 'string') return []\n\n        return this.$_tree.getByClassName(className, this)\n    }\n\n    querySelector(selector) {\n        if (typeof selector !== 'string') return\n\n        return this.$_tree.query(selector, this)[0] || null\n    }\n\n    querySelectorAll(selector) {\n        if (typeof selector !== 'string') return []\n\n        return this.$_tree.query(selector, this)\n    }\n\n    setAttribute(name, value) {\n        if (typeof name !== 'string') return\n\n        // ///undefined \n        const valueType = typeof value\n        if (valueType !== 'object' && valueType !== 'boolean' && valueType !== 'function' && value !== undefined && !Array.isArray(value)) value = '' + value\n\n        if (name === 'kbone-attribute-map' || name === 'kbone-event-map') {\n            value = value || {}\n            if (typeof value === 'string') value = JSON.parse(value) // \n            const oldValue = this.getAttribute(name)\n            const keys = Object.keys(value)\n            const oldKeys = oldValue ? Object.keys(oldValue) : null\n\n            if (name === 'kbone-attribute-map') {\n                // \n                keys.forEach(key => this.setAttribute(key, value[key]))\n                if (oldKeys) {\n                    oldKeys.forEach(key => {\n                        if (!Object.prototype.hasOwnProperty.call(value, key)) this.removeAttribute(key)\n                    })\n                }\n            } else {\n                // \n                const window = cache.getWindow(this.$_pageId)\n\n                if (oldKeys) {\n                    oldKeys.forEach(key => {\n                        //  handler\n                        let handler = oldValue[key]\n                        handler = typeof handler !== 'function' ? window[handler] : handler\n                        this.removeEventListener(key, handler)\n                    })\n                }\n                keys.forEach(key => {\n                    let handler = value[key]\n                    handler = typeof handler !== 'function' ? window[handler] : handler\n                    this.addEventListener(key, handler)\n                })\n            }\n        }\n\n        if (name === 'id') {\n            // id \n            this.id = value\n        } else {\n            this.$_attrs.set(name, value)\n        }\n    }\n\n    getAttribute(name) {\n        if (typeof name !== 'string') return ''\n        if (name.indexOf('data-') === 0) {\n            // dataset \n            const datasetName = tool.toCamel(name.substr(5))\n            if (!this.$__dataset) return undefined\n\n            return this.dataset[datasetName]\n        } else {\n            if (!this.$__attrs) return name === 'id' || name === 'style' || name === 'class' ? '' : undefined\n\n            return this.$_attrs.get(name)\n        }\n    }\n\n    hasAttribute(name) {\n        if (typeof name !== 'string') return false\n        if (!this.$__attrs) return false\n\n        return this.$_attrs.has(name)\n    }\n\n    removeAttribute(name) {\n        if (typeof name !== 'string') return false\n\n        return this.$_attrs.remove(name)\n    }\n\n    setAttributeNS(namespace, name, value) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        this.setAttribute(name, value)\n    }\n\n    getAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.getAttribute(name)\n    }\n\n    hasAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.hasAttribute(name)\n    }\n\n    removeAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.removeAttribute(name)\n    }\n\n    contains(otherElement) {\n        const stack = []\n        let checkElement = this\n\n        while (checkElement) {\n            if (checkElement === otherElement) return true\n\n            const childNodes = checkElement.childNodes\n            if (childNodes && childNodes.length) childNodes.forEach(child => stack.push(child))\n\n            checkElement = stack.pop()\n        }\n\n        return false\n    }\n\n    getBoundingClientRect() {\n        return this.$$getBoundingClientRect()\n    }\n}\n\nmodule.exports = Element\n","/**\n * \n */\nfunction checkRelation(node1, node2) {\n    if (node1 === node2) return true\n\n    while (node1) {\n        if (node1 === node2) return true\n\n        node1 = node1.parentNode\n    }\n\n    return false\n}\n\nclass Event {\n    constructor(options) {\n        this.$_name = options.name.toLowerCase()\n        this.$_target = options.target\n        this.$_timeStamp = options.timeStamp || Date.now()\n        this.$_currentTarget = options.currentTarget || options.target\n        this.$_eventPhase = options.eventPhase || Event.NONE\n        this.$_detail = options.detail || null\n        this.$_immediateStop = false\n        this.$_canBubble = true\n        this.$_bubbles = options.bubbles || false\n        this.$_touches = null\n        this.$_targetTouches = null\n        this.$_changedTouches = null\n        this.$_cancelable = true\n        this.$_preventDefault = false\n\n        // \n        const extra = options.$$extra\n        if (extra) {\n            Object.keys(extra).forEach(key => {\n                this[key] = extra[key]\n            })\n        }\n\n        //  touches\n        if (options.touches && options.touches.length) {\n            this.$_touches = options.touches.map(touch => ({...touch, target: options.target}))\n\n            this.$$checkTargetTouches()\n        } else if (options.touches) {\n            this.$_touches = []\n            this.$_targetTouches = []\n        }\n\n        //  changedTouches\n        if (options.changedTouches && options.changedTouches.length) {\n            this.$_changedTouches = options.changedTouches.map(touch => ({...touch, target: options.target}))\n        } else if (options.changedTouches) {\n            this.$_changedTouches = []\n        }\n    }\n\n    /**\n     * \n     */\n    get $$immediateStop() {\n        return this.$_immediateStop\n    }\n\n    /**\n     * \n     */\n    get $$canBubble() {\n        return this.$_canBubble\n    }\n\n    /**\n     * \n     */\n    get $$preventDefault() {\n        return this.$_preventDefault\n    }\n\n    /**\n     *  target\n     */\n    $$setTarget(target) {\n        this.$_target = target\n    }\n\n    /**\n     *  currentTarget\n     */\n    $$setCurrentTarget(currentTarget) {\n        this.$_currentTarget = currentTarget\n        this.$$checkTargetTouches()\n    }\n\n    /**\n     * \n     */\n    $$setEventPhase(eventPhase) {\n        this.$_eventPhase = eventPhase\n    }\n\n    /**\n     *  targetTouches\n     */\n    $$checkTargetTouches() {\n        if (this.$_touches && this.$_touches.length) {\n            this.$_targetTouches = this.$_touches.filter(touch => checkRelation(touch.target, this.$_currentTarget))\n        }\n    }\n\n    /**\n     * \n     */\n    get bubbles() {\n        return this.$_bubbles\n    }\n\n    get cancelable() {\n        return this.$_cancelable\n    }\n\n    get target() {\n        return this.$_target\n    }\n\n    get currentTarget() {\n        return this.$_currentTarget\n    }\n\n    get eventPhase() {\n        return this.$_eventPhase\n    }\n\n    get type() {\n        return this.$_name\n    }\n\n    get timeStamp() {\n        return this.$_timeStamp\n    }\n\n    get touches() {\n        return this.$_touches\n    }\n\n    get targetTouches() {\n        return this.$_targetTouches\n    }\n\n    get changedTouches() {\n        return this.$_changedTouches\n    }\n\n    set detail(value) {\n        this.$_detail = value\n    }\n\n    get detail() {\n        return this.$_detail\n    }\n\n    get returnValue() {\n        return !this.$_preventDefault\n    }\n\n    set returnValue(value) {\n        if (value !== undefined) {\n            this.$_preventDefault = !value\n        }\n    }\n\n    preventDefault() {\n        //  a \n        this.$_preventDefault = true\n    }\n\n    stopPropagation() {\n        if (this.eventPhase === Event.NONE) return\n\n        this.$_canBubble = false\n    }\n\n    stopImmediatePropagation() {\n        if (this.eventPhase === Event.NONE) return\n\n        this.$_immediateStop = true\n        this.$_canBubble = false\n    }\n\n    initEvent(name = '', bubbles) {\n        if (typeof name !== 'string') return\n\n        this.$_name = name.toLowerCase()\n        this.$_bubbles = bubbles === undefined ? this.$_bubbles : !!bubbles\n    }\n}\n\n// \nEvent.NONE = 0\nEvent.CAPTURING_PHASE = 1\nEvent.AT_TARGET = 2\nEvent.BUBBLING_PHASE = 3\n\nmodule.exports = Event\n","const EventTarget = require('../event/event-target')\nconst cache = require('../util/cache')\n\nclass Node extends EventTarget {\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init()\n\n        this.$_nodeId = options.nodeId // \n        this.$_type = options.type\n        this.$_parentNode = null\n        this.$_tree = tree\n        this.$_pageId = tree.pageId\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_nodeId = null\n        this.$_type = null\n        this.$_parentNode = null\n        this.$_tree = null\n        this.$_pageId = null\n    }\n\n    /**\n     *  nodeId\n     */\n    get $$nodeId() {\n        return this.$_nodeId\n    }\n\n    /**\n     *  pageId\n     */\n    get $$pageId() {\n        return this.$_pageId\n    }\n\n    /**\n     *  parentNode\n     */\n    $$updateParent(parentNode = null) {\n        this.$_parentNode = parentNode\n    }\n\n    /**\n     * \n     */\n    get parentNode() {\n        return this.$_parentNode\n    }\n\n    get nodeValue() {\n        return null\n    }\n\n    get previousSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index > 0) {\n            return childNodes[index - 1]\n        }\n\n        return null\n    }\n\n    get previousElementSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index > 0) {\n            for (let i = index - 1; i >= 0; i--) {\n                if (childNodes[i].nodeType === Node.ELEMENT_NODE) {\n                    return childNodes[i]\n                }\n            }\n        }\n\n        return null\n    }\n\n    get nextSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        return childNodes[index + 1] || null\n    }\n\n    get nextElementSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index < childNodes.length - 1) {\n            for (let i = index + 1, len = childNodes.length; i < len; i++) {\n                if (childNodes[i].nodeType === Node.ELEMENT_NODE) {\n                    return childNodes[i]\n                }\n            }\n        }\n\n        return null\n    }\n\n    get ownerDocument() {\n        return cache.getDocument(this.$_pageId) || null\n    }\n\n    get childNodes() {\n        return []\n    }\n\n    hasChildNodes() {\n        return false\n    }\n\n    remove() {\n        if (!this.parentNode || !this.parentNode.removeChild) return this\n\n        return this.parentNode.removeChild(this)\n    }\n}\n\n// \nNode.ELEMENT_NODE = 1\nNode.TEXT_NODE = 3\nNode.CDATA_SECTION_NODE = 4\nNode.PROCESSING_INSTRUCTION_NODE = 7\nNode.COMMENT_NODE = 8\nNode.DOCUMENT_NODE = 9\nNode.DOCUMENT_TYPE_NODE = 10\nNode.DOCUMENT_FRAGMENT_NODE = 11\n\nmodule.exports = Node\n","const Event = require('./event')\nconst CustomEvent = require('./custom-event')\n\n/**\n *  touch \n */\nfunction compareTouchList(a, b) {\n    if (a.length !== b.length) return false\n\n    for (let i, len = a.length; i < len; i++) {\n        const aItem = a[i]\n        const bItem = b[i]\n\n        if (aItem.identifier !== bItem.identifier) return false\n        if (aItem.pageX !== bItem.pageX || aItem.pageY !== bItem.pageY || aItem.clientX !== bItem.clientX || aItem.clientY !== bItem.clientY) return false\n    }\n\n    return true\n}\n\nclass EventTarget {\n    constructor(...args) {\n        this.$$init(...args)\n    }\n\n    /**\n     * \n     */\n    $$init() {\n        //  'xxx' in XXX \n        this.ontouchstart = null\n        this.ontouchmove = null\n        this.ontouchend = null\n        this.ontouchcancel = null\n        this.oninput = null\n        this.onfocus = null\n        this.onblur = null\n        this.onchange = null\n\n        this.$_miniprogramEvent = null // \n        this.$_eventHandlerMap = null\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        Object.keys(this).forEach(key => {\n            //  on \n            if (key.indexOf('on') === 0) this[key] = null\n            // \n            if (key[0] === '_') this[key] = null\n            if (key[0] === '$' && (key[1] !== '_' && key[1] !== '$')) this[key] = null\n        })\n\n        this.$_miniprogramEvent = null\n        this.$_eventHandlerMap = null\n    }\n\n    set $_eventHandlerMap(value) {\n        this.$__eventHandlerMap = value\n    }\n\n    get $_eventHandlerMap() {\n        if (!this.$__eventHandlerMap) this.$__eventHandlerMap = Object.create(null)\n        return this.$__eventHandlerMap\n    }\n\n    /**\n     * \n     */\n    static $$process(target, eventName, miniprogramEvent, extra, callback) {\n        let event\n\n        if (eventName instanceof CustomEvent || eventName instanceof Event) {\n            // \n            event = eventName\n            eventName = event.type\n            event.$$setTarget(target)\n        }\n\n        eventName = eventName.toLowerCase()\n\n        const path = [target]\n        let parentNode = target.parentNode\n\n        while (parentNode && parentNode.tagName !== 'HTML') {\n            path.push(parentNode)\n            parentNode = parentNode.parentNode\n        }\n\n        if (path[path.length - 1].tagName === 'BODY') {\n            //  document.body document.documentElement\n            path.push(parentNode)\n        }\n\n        if (!event) {\n            //  event \n            event = new Event({\n                name: eventName,\n                target,\n                timeStamp: miniprogramEvent.timeStamp,\n                touches: miniprogramEvent.touches,\n                changedTouches: miniprogramEvent.changedTouches,\n                bubbles: true, // \n                $$extra: extra,\n            })\n            //  detail\n            if (miniprogramEvent.detail) event.detail = Object.assign({}, miniprogramEvent.detail, event.detail || {})\n        }\n\n        // \n        for (let i = path.length - 1; i >= 0; i--) {\n            const currentTarget = path[i]\n\n            if (!event.$$canBubble) break // \n            if (currentTarget === target) continue\n\n            // wx-capture \n            if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'capture') continue\n\n            event.$$setCurrentTarget(currentTarget)\n            event.$$setEventPhase(Event.CAPTURING_PHASE)\n\n            currentTarget.$$trigger(eventName, {\n                event,\n                isCapture: true,\n            })\n            if (callback) callback(currentTarget, event, true)\n        }\n\n        // \n        if (event.$$canBubble) {\n            event.$$setCurrentTarget(target)\n            event.$$setEventPhase(Event.AT_TARGET)\n\n            // \n            target.$$trigger(eventName, {\n                event,\n                isCapture: true,\n                isTarget: true,\n            })\n            if (callback) callback(target, event, true)\n\n            target.$$trigger(eventName, {\n                event,\n                isCapture: false,\n                isTarget: true,\n            })\n            if (callback) callback(target, event, false)\n        }\n\n        if (event.bubbles) {\n            // \n            for (const currentTarget of path) {\n                if (!event.$$canBubble) break // \n                if (currentTarget === target) continue\n\n                // wx-capture \n                if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'capture') continue\n\n                event.$$setCurrentTarget(currentTarget)\n                event.$$setEventPhase(Event.BUBBLING_PHASE)\n\n                currentTarget.$$trigger(eventName, {\n                    event,\n                    isCapture: false,\n                })\n                if (callback) callback(currentTarget, event, false)\n\n                // wx-catch \n                if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'catch') event.stopPropagation()\n            }\n        }\n\n        // \n        event.$$setCurrentTarget(null)\n        event.$$setEventPhase(Event.NONE)\n\n        return event\n    }\n\n    /**\n     *  handlers\n     */\n    $_getHandlers(eventName, isCapture, isInit) {\n        const handlerMap = this.$_eventHandlerMap\n\n        if (isInit) {\n            const handlerObj = handlerMap[eventName] = handlerMap[eventName] || {}\n\n            handlerObj.capture = handlerObj.capture || []\n            handlerObj.bubble = handlerObj.bubble || []\n\n            return isCapture ? handlerObj.capture : handlerObj.bubble\n        } else {\n            const handlerObj = handlerMap[eventName]\n\n            if (!handlerObj) return null\n\n            return isCapture ? handlerObj.capture : handlerObj.bubble\n        }\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, {\n        event, args = [], isCapture, isTarget\n    } = {}) {\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture)\n        const onEventName = `on${eventName}`\n\n        if (!event) {\n            event = new Event({\n                timeStamp: Date.now(),\n                touches: [],\n                changedTouches: [],\n                name: eventName,\n                target: this,\n                eventPhase: Event.AT_TARGET,\n            })\n        }\n\n        if ((!isCapture || !isTarget) && typeof this[onEventName] === 'function') {\n            //  onXXX \n            if (event && event.$$immediateStop) return\n            try {\n                event.returnValue = this[onEventName].call(this || null, event, ...args)\n            } catch (err) {\n                console.error(err)\n                this.$$triggerWindowError(err)\n            }\n        }\n\n        if (!handlers) return\n\n        //  addEventListener \n        if (handlers.length) {\n            [...handlers].forEach(handler => {\n                if (event && event.$$immediateStop) return\n                try {\n                    handler.call(this || null, event, ...args)\n                } catch (err) {\n                    console.error(err)\n                    this.$$triggerWindowError(err)\n                }\n            })\n        }\n\n        //  addEventListener \n        if (handlers._namespace) {\n            Object.keys(handlers._namespace).forEach(namespace => {\n                const namespaceHandlers = handlers._namespace[namespace]\n                if (namespaceHandlers && namespaceHandlers.length) {\n                    [...namespaceHandlers].forEach(handler => {\n                        if (event && event.$$immediateStop) return\n                        try {\n                            handler.call(this || null, event, ...args)\n                        } catch (err) {\n                            console.error(err)\n                            this.$$triggerWindowError(err)\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    $$checkEvent(miniprogramEvent) {\n        const last = this.$_miniprogramEvent\n        const now = miniprogramEvent\n\n        let flag = false\n\n        if (!last || last.timeStamp !== now.timeStamp) {\n            // \n            flag = true\n        } else {\n            if (last.touches && now.touches && !compareTouchList(last.touches, now.touches)) {\n                //  touches\n                flag = true\n            } else if ((!last.touches && now.touches) || (last.touches && !now.touches)) {\n                //  touches\n                flag = true\n            }\n\n            if (last.changedTouches && now.changedTouches && !compareTouchList(last.changedTouches, now.changedTouches)) {\n                //  changedTouches\n                flag = true\n            } else if ((!last.changedTouches && now.changedTouches) || (last.changedTouches && !now.changedTouches)) {\n                //  changedTouches\n                flag = true\n            }\n        }\n\n        if (flag) this.$_miniprogramEvent = now\n        return flag\n    }\n\n    /**\n     * \n     */\n    $$clearEvent(eventName, options) {\n        if (typeof eventName !== 'string') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture)\n\n        if (!handlers) return\n\n        if (handlers.length) handlers.length = 0\n        if (handlers._namespace) handlers._namespace[namespace] = null\n    }\n\n    /**\n     *  addEventListener \n     */\n    $$hasEventHandler(eventName) {\n        eventName = eventName.toLowerCase()\n        const bubbleHandlers = this.$_getHandlers(eventName, false)\n        const captureHandlers = this.$_getHandlers(eventName, true)\n        return (bubbleHandlers && bubbleHandlers.length) || (captureHandlers && captureHandlers.length)\n    }\n\n    /**\n     *  window error \n     */\n    $$triggerWindowError(err) {\n        const document = this.ownerDocument\n        const window = document ? document.defaultView : null\n        if (window) {\n            window.$$trigger('error', {\n                event: err,\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    addEventListener(eventName, handler, options) {\n        if (typeof eventName !== 'string' || typeof handler !== 'function') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture, true)\n\n        if (namespace) {\n            // \n            handlers._namespace = handlers._namespace || {}\n            handlers._namespace[namespace] = handlers._namespace[namespace] || []\n            handlers._namespace[namespace].push(handler)\n        } else {\n            handlers.push(handler)\n        }\n    }\n\n    removeEventListener(eventName, handler, options) {\n        if (typeof eventName !== 'string' || typeof handler !== 'function') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture, false)\n\n        if (!handlers) return\n\n        if (namespace) {\n            // \n            if (!handlers._namespace || !handlers._namespace[namespace]) return\n\n            const index = handlers._namespace[namespace].indexOf(handler)\n            if (index >= 0) handlers._namespace[namespace].splice(index, 1)\n        } else {\n            const index = handlers.indexOf(handler)\n            if (index >= 0) handlers.splice(index, 1)\n        }\n    }\n\n    dispatchEvent(evt) {\n        if (evt instanceof CustomEvent) {\n            EventTarget.$$process(this, evt)\n        }\n\n        //  preventDefault true\n        return true\n    }\n}\n\nmodule.exports = EventTarget\n","const EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\nconst Tree = require('./tree/tree')\nconst Node = require('./node/node')\nconst Element = require('./node/element')\nconst TextNode = require('./node/text-node')\nconst Comment = require('./node/comment')\nconst tool = require('./util/tool')\nconst cache = require('./util/cache')\nconst A = require('./node/element/a')\nconst Image = require('./node/element/image')\nconst Input = require('./node/element/input')\nconst Textarea = require('./node/element/textarea')\nconst Video = require('./node/element/video')\nconst Canvas = require('./node/element/canvas')\nconst Select = require('./node/element/select')\nconst Option = require('./node/element/option')\nconst NotSupport = require('./node/element/not-support')\nconst WxComponent = require('./node/element/wx-component')\nconst WxCustomComponent = require('./node/element/wx-custom-component')\n\nconst CONSTRUCTOR_MAP = {\n    A,\n    IMG: Image,\n    INPUT: Input,\n    TEXTAREA: Textarea,\n    VIDEO: Video,\n    CANVAS: Canvas,\n    SELECT: Select,\n    OPTION: Option,\n}\nconst WX_COMPONENT_TRANSFORM_LIST = ['checkbox', 'checkbox-group', 'input', 'label', 'radio', 'radio-group', 'textarea', 'canvas'] //  wx-xxx  xxx \nlet WX_CUSTOM_COMPONENT_MAP = {}\n\n/**\n *  wx-xxx  dom \n */\nfunction transformWxComponent2Dom(wxComponentName, options, tree) {\n    let groupEvent = null\n    if (wxComponentName === 'radio' || wxComponentName === 'checkbox') {\n        options.attrs.type = wxComponentName\n        wxComponentName = 'input'\n    } else if (wxComponentName === 'radio-group' || wxComponentName === 'checkbox-group') {\n        groupEvent = wxComponentName.split('-')[0]\n        wxComponentName = 'div'\n    }\n    options.tagName = wxComponentName\n    delete options.attrs.behavior\n    const normalElement = CONSTRUCTOR_MAP[wxComponentName.toUpperCase()] || Element\n    const element = normalElement.$$create(options, tree)\n\n    if (groupEvent) {\n        // group  div\n        element.addEventListener('change', evt => {\n            if (!evt.$$isGroup) evt.stopImmediatePropagation()\n        })\n        element.addEventListener(`$$${groupEvent}Change`, evt => {\n            const detail = {}\n            if (groupEvent === 'radio') {\n                (element.querySelectorAll('input[type=radio]') || []).forEach(item => {\n                    if (item !== evt.target) item.setAttribute('checked', false)\n                })\n                detail.value = evt.target.value\n            } else if (groupEvent === 'checkbox') {\n                detail.value = (element.querySelectorAll('input[type=checkbox]') || [])\n                    .filter(item => item.checked)\n                    .map(item => item.value)\n            }\n\n            element.$$trigger('change', {\n                event: new Event({\n                    timeStamp: evt.timeStamp,\n                    touches: evt.touches,\n                    changedTouches: evt.changedTouches,\n                    name: 'change',\n                    target: element,\n                    eventPhase: Event.AT_TARGET,\n                    detail,\n                    $$extra: {$$isGroup: true},\n                }),\n                currentTarget: element,\n            })\n        })\n    }\n\n    return element\n}\n\n\nclass Document extends EventTarget {\n    constructor(pageId, nodeIdMap) {\n        super()\n\n        const config = cache.getConfig()\n        const runtime = config.runtime || {}\n        const cookieStore = runtime.cookieStore\n        WX_CUSTOM_COMPONENT_MAP = runtime.usingComponents || {}\n\n        this.$_pageId = pageId\n        const pageRoute = tool.getPageRoute(pageId)\n        const pageName = tool.getPageName(pageRoute)\n\n        // \n        const that = this\n        this.$_imageConstructor = function HTMLImageElement(width, height) {\n            return Image.$$create({\n                tagName: 'img',\n                nodeId: `b-${tool.getId()}`, //  b- \n                attrs: {},\n                width,\n                height,\n            }, that.$_tree)\n        }\n\n        this.$_pageId = pageId\n        this.$_tree = new Tree(pageId, {\n            type: 'element',\n            tagName: 'body',\n            attrs: {},\n            unary: false,\n            nodeId: 'e-body',\n            children: [],\n        }, nodeIdMap, this)\n        this.$_config = null\n\n        // documentElement\n        this.$_node = this.$$createElement({\n            tagName: 'html',\n            attrs: {},\n            nodeId: `a-${tool.getId()}`, //  a- \n        })\n        this.$_node.$$updateParent(this) // documentElement  parentNode  document\n\n        // head \n        this.$_head = this.createElement('head')\n\n        //  body  parentNode\n        this.$_tree.root.$$updateParent(this.$_node)\n        this.$_node.$$children.push(this.$_tree.root)\n\n        //  cookie\n        if (cookieStore !== 'memory' && cookieStore !== 'globalmemory') {\n            try {\n                const key = cookieStore === 'storage' ? `PAGE_COOKIE_${pageName}` : 'PAGE_COOKIE'\n                const cookie = swan.getStorageSync(key)\n                if (cookie) this.$$cookieInstance.deserialize(cookie)\n            } catch (err) {\n                // ignore\n            }\n        }\n    }\n\n    /**\n     * Image \n     */\n    get $$imageConstructor() {\n        return this.$_imageConstructor\n    }\n\n    get $$pageId() {\n        return this.$_pageId\n    }\n\n    /**\n     * \n     */\n    get $$notNeedPrefix() {\n        if (!this.$_config) this.$_config = cache.getConfig()\n        return this.$_config && this.$_config.runtime && this.$_config.runtime.wxComponent === 'noprefix'\n    }\n\n    /**\n     * \n     */\n    set $$visibilityState(value) {\n        this.$_visibilityState = value\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, options) {\n        this.documentElement.$$trigger(eventName, options)\n    }\n\n    /**\n     * \n     */\n    $$createElement(options, tree) {\n        const originTagName = options.tagName\n        const tagName = originTagName.toUpperCase()\n        let wxComponentName = null\n        tree = tree || this.$_tree\n\n        const constructorClass = CONSTRUCTOR_MAP[tagName]\n        if (constructorClass) {\n            return constructorClass.$$create(options, tree)\n        } else if (tagName === 'WX-COMPONENT') {\n            options.attrs = options.attrs || {}\n            const behavior = options.attrs.behavior\n            if (behavior && WX_COMPONENT_TRANSFORM_LIST.indexOf(behavior) !== -1) return transformWxComponent2Dom(behavior, options, tree) //  dom\n            else return WxComponent.$$create(options, tree)\n        // eslint-disable-next-line no-cond-assign\n        } else if (wxComponentName = tool.checkIsWxComponent(originTagName, this.$$notNeedPrefix)) {\n            //  wx-component \n            options.attrs = options.attrs || {}\n            if (WX_COMPONENT_TRANSFORM_LIST.indexOf(wxComponentName) !== -1) return transformWxComponent2Dom(wxComponentName, options, tree) //  dom\n            else {\n                options.tagName = 'wx-component'\n                options.attrs.behavior = wxComponentName\n                return WxComponent.$$create(options, tree)\n            }\n        } else if (WX_CUSTOM_COMPONENT_MAP[originTagName]) {\n            //  wx-custom-component \n            options.tagName = 'wx-custom-component'\n            options.attrs = options.attrs || {}\n            options.componentName = originTagName\n            return WxCustomComponent.$$create(options, tree)\n        } else if (!tool.isTagNameSupport(tagName)) {\n            return NotSupport.$$create(options, tree)\n        } else {\n            return Element.$$create(options, tree)\n        }\n    }\n\n    /**\n     * \n     */\n    $$createTextNode(options, tree) {\n        return TextNode.$$create(options, tree || this.$_tree)\n    }\n\n    /**\n     * \n     */\n    $$createComment(options, tree) {\n        return Comment.$$create(options, tree || this.$_tree)\n    }\n\n    /**\n     *  Set-Cookie \n     */\n    $$setCookie(str) {\n        if (str && typeof str === 'string') {\n            let start = 0\n            let startSplit = 0\n            let nextSplit = str.indexOf(',', startSplit)\n            const cookies = []\n\n            while (nextSplit >= 0) {\n                const lastSplitStr = str.substring(start, nextSplit)\n                const splitStr = str.substr(nextSplit)\n\n                if (/^,\\s*([^,=;\\x00-\\x1F]+)=([^;\\n\\r\\0\\x00-\\x1F]*).*/.test(splitStr)) {\n                //  cookie\n                    cookies.push(lastSplitStr)\n                    start = nextSplit + 1\n                }\n\n                startSplit = nextSplit + 1\n                nextSplit = str.indexOf(',', startSplit)\n            }\n\n            //  cookie\n            cookies.push(str.substr(start))\n\n            cookies.forEach(cookie => this.cookie = cookie)\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeType() {\n        return Node.DOCUMENT_NODE\n    }\n\n    get documentElement() {\n        return this.$_node\n    }\n\n    get body() {\n        return this.$_tree.root\n    }\n\n    get nodeName() {\n        return '#document'\n    }\n\n    get head() {\n        return this.$_head\n    }\n\n    get defaultView() {\n        return cache.getWindow(this.$_pageId) || null\n    }\n\n    get URL() {\n        if (this.defaultView) return this.defaultView.location.href\n\n        return ''\n    }\n\n    get visibilityState() {\n        return this.$_visibilityState\n    }\n\n    get hidden() {\n        return this.$_visibilityState === 'visible'\n    }\n\n    get location() {\n        if (this.defaultView) return this.defaultView.location\n\n        return null\n    }\n\n    getElementById(id) {\n        if (typeof id !== 'string') return\n\n        return this.$_tree.getById(id) || null\n    }\n\n    getElementsByTagName(tagName) {\n        if (typeof tagName !== 'string') return []\n\n        return this.$_tree.getByTagName(tagName, this.documentElement)\n    }\n\n    getElementsByClassName(className) {\n        if (typeof className !== 'string') return []\n\n        return this.$_tree.getByClassName(className, this.documentElement)\n    }\n\n    getElementsByName(name) {\n        if (typeof name !== 'string') return []\n\n        return this.$_tree.query(`*[name=${name}]`, this.documentElement)\n    }\n\n    querySelector(selector) {\n        if (typeof selector !== 'string') return\n\n        return this.$_tree.query(selector, this.documentElement)[0] || null\n    }\n\n    querySelectorAll(selector) {\n        if (typeof selector !== 'string') return []\n\n        return this.$_tree.query(selector, this.documentElement)\n    }\n\n    createElement(tagName) {\n        if (typeof tagName !== 'string') return\n\n        tagName = tagName.trim()\n        if (!tagName) return\n\n        return this.$$createElement({\n            tagName,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createElementNS(ns, tagName) {\n        //  createElementNS createElement\n        return this.createElement(tagName)\n    }\n\n    createTextNode(content) {\n        content = '' + content\n\n        return this.$$createTextNode({\n            content,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createComment() {\n        // \n        return this.$$createComment({\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createDocumentFragment() {\n        return Element.$$create({\n            tagName: 'documentfragment',\n            nodeId: `b-${tool.getId()}`, //  b- \n            nodeType: Node.DOCUMENT_FRAGMENT_NODE,\n        }, this.$_tree)\n    }\n\n    createEvent() {\n        const window = cache.getWindow(this.$_pageId)\n\n        return new window.CustomEvent()\n    }\n\n    addEventListener(eventName, handler, options) {\n        this.documentElement.addEventListener(eventName, handler, options)\n    }\n\n    removeEventListener(eventName, handler, isCapture) {\n        this.documentElement.removeEventListener(eventName, handler, isCapture)\n    }\n\n    dispatchEvent(evt) {\n        this.documentElement.dispatchEvent(evt)\n    }\n}\n\nmodule.exports = Document\n","const Event = require('./event')\n\nclass CustomEvent extends Event {\n    constructor(name = '', options = {}) {\n        super({\n            name,\n            ...options,\n        })\n    }\n}\n\nmodule.exports = CustomEvent\n","/**\n * babel extends  Arrayhttps://babeljs.io/docs/en/caveats/#classes\n */\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nfunction ClassList(onUpdate) {\n    this.$$init(onUpdate)\n}\n\n/**\n * \n */\nClassList.$$create = function(onUpdate) {\n    const config = cache.getConfig()\n\n    if (config.optimization.domExtendMultiplexing) {\n    //  dom \n        const instance = pool.get()\n\n        if (instance) {\n            instance.$$init(onUpdate)\n            return instance\n        }\n    }\n\n    return new ClassList(onUpdate)\n}\n\nClassList.prototype = Object.assign([], {\n    /**\n     * \n     */\n    $$init(onUpdate) {\n        this.$_doUpdate = onUpdate\n    },\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_doUpdate = null\n        this.length = 0\n    },\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    },\n\n    /**\n     *  className\n     */\n    $$parse(className = '') {\n        this.length = 0 // \n\n        className = className.trim()\n        className = className ? className.split(/\\s+/) : []\n\n        for (const item of className) {\n            this.push(item)\n        }\n\n        this.$_doUpdate()\n    },\n\n    /**\n     * \n     */\n    item(index) {\n        return this[index]\n    },\n\n    contains(className) {\n        if (typeof className !== 'string') return false\n\n        return this.indexOf(className) !== -1\n    },\n\n    add(...args) {\n        let isUpdate = false\n\n        for (let className of args) {\n            if (typeof className !== 'string') continue\n\n            className = className.trim()\n\n            if (className && this.indexOf(className) === -1) {\n                this.push(className)\n                isUpdate = true\n            }\n        }\n\n        if (isUpdate) this.$_doUpdate()\n    },\n\n    remove(...args) {\n        let isUpdate = false\n\n        for (let className of args) {\n            if (typeof className !== 'string') continue\n\n            className = className.trim()\n\n            if (!className) continue\n\n            const index = this.indexOf(className)\n            if (index >= 0) {\n                this.splice(index, 1)\n                isUpdate = true\n            }\n        }\n\n        if (isUpdate) this.$_doUpdate()\n    },\n\n    toggle(className, force) {\n        if (typeof className !== 'string') return false\n\n        className = className.trim()\n\n        if (!className) return false\n\n        const isNotContain = this.indexOf(className) === -1\n        let action = isNotContain ? 'add' : 'remove'\n        action = force === true ? 'add' : force === false ? 'remove' : action\n\n        if (action === 'add') {\n            this.add(className)\n        } else {\n            this.remove(className)\n        }\n\n        return force === true || force === false ? force : isNotContain\n    },\n\n    toString() {\n        return this.join(' ')\n    },\n})\n\nmodule.exports = ClassList\n","const styleList = require('./style-list')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\n/**\n * \n */\nfunction parse(styleText) {\n    const rules = {}\n\n    if (styleText) {\n        styleText = tool.decodeContent(styleText)\n        styleText = styleText.replace(/url\\([^)]+\\)/ig, all => all.replace(/;/ig, ':#||#:')) // \n        styleText.split(';').forEach(rule => {\n            rule = rule.trim()\n            if (!rule) return\n\n            const split = rule.indexOf(':')\n            if (split === -1) return\n\n            const name = tool.toCamel(rule.substr(0, split).trim())\n            rules[name] = rule.substr(split + 1).replace(/:#\\|\\|#:/ig, ';').trim()\n        })\n    }\n\n    return rules\n}\n\nclass Style {\n    constructor(onUpdate) {\n        this.$$init(onUpdate)\n    }\n\n    /**\n     * \n     */\n    static $$create(onUpdate) {\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(onUpdate)\n                return instance\n            }\n        }\n\n        return new Style(onUpdate)\n    }\n\n    /**\n     * \n     */\n    $$init(onUpdate) {\n        this.$_doUpdate = onUpdate || (() => {})\n        this.$_disableCheckUpdate = false // \n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_doUpdate = null\n        this.$_disableCheckUpdate = false\n\n        styleList.forEach(name => {\n            this[`$_${name}`] = undefined\n        })\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    $_checkUpdate() {\n        if (!this.$_disableCheckUpdate) {\n            this.$_doUpdate()\n        }\n    }\n\n    /**\n     * \n     */\n    get cssText() {\n        const joinText = styleList.filter(name => this[`$_${name}`]).map(name => `${tool.toCSSDash(name)}:${this['$_' + name]}`).join(';').trim()\n        return joinText ? `${joinText};` : ''\n    }\n\n    set cssText(styleText) {\n        if (typeof styleText !== 'string') return\n\n        styleText = styleText.replace(/\"/g, '\\'')\n\n        // \n        const rules = parse(styleText)\n\n        this.$_disableCheckUpdate = true // \n        for (const name of styleList) {\n            this[name] = rules[name]\n        }\n        this.$_disableCheckUpdate = false\n        this.$_checkUpdate()\n    }\n\n    getPropertyValue(name) {\n        if (typeof name !== 'string') return ''\n\n        name = tool.toCamel(name)\n        return this[name] || ''\n    }\n}\n\n/**\n *  gettersetter\n */\nconst properties = {}\nstyleList.forEach(name => {\n    properties[name] = {\n        get() {\n            return this[`$_${name}`] || ''\n        },\n        set(value) {\n            const config = cache.getConfig()\n            const oldValue = this[`$_${name}`]\n            value = value !== undefined ? '' + value : undefined\n\n            //  value \n            if (value && config.optimization.styleValueReduce && value.length > config.optimization.styleValueReduce) {\n                console.warn(`property \"${name}\" will be deleted, because it's greater than ${config.optimization.styleValueReduce}`)\n                value = undefined\n            }\n\n            this[`$_${name}`] = value\n            if (oldValue !== value) this.$_checkUpdate()\n        },\n    }\n})\nObject.defineProperties(Style.prototype, properties)\n\nmodule.exports = Style\n","const Pool = require('../util/pool')\nconst cache = require('../util/cache')\nconst tool = require('../util/tool')\n\nconst pool = new Pool()\n\nclass Attribute {\n    constructor(element, onUpdate) {\n        this.$$init(element, onUpdate)\n    }\n\n    /**\n     * \n     */\n    static $$create(element, onUpdate) {\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(element, onUpdate)\n                return instance\n            }\n        }\n\n        return new Attribute(element, onUpdate)\n    }\n\n    /**\n     * \n     */\n    $$init(element, onUpdate) {\n        this.$_element = element\n        this.$_doUpdate = onUpdate\n        this.$_map = {}\n        this.$_list = []\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_element = null\n        this.$_doUpdate = null\n        this.$_map = null\n        this.$_list = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    get map() {\n        return this.$_map\n    }\n\n    /**\n     * \n     */\n    get list() {\n        return this.$_list\n    }\n\n    /**\n     * \n     */\n    set(name, value) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            map.id = value\n        } else if (name === 'class' || (element.tagName === 'WX-COMPONENT' && name === 'className')) {\n            element.className = value\n        } else if (name === 'style') {\n            element.style.cssText = value\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            element.dataset[datasetName] = value\n        } else {\n            const config = cache.getConfig()\n\n            //  value \n            if (typeof value === 'string' && config.optimization.attrValueReduce && value.length > config.optimization.attrValueReduce && !(name === 'src')) {\n                console.warn(`property \"${name}\" will be deleted, because it's greater than ${config.optimization.attrValueReduce}`)\n                value = ''\n            }\n\n            map[name] = value\n\n            // canvas  node  width/height \n            if ((name === 'width' || name === 'height') && element.tagName === 'CANVAS' && element.$$node) {\n                element.$$node[name] = value\n            }\n\n            // \n            this.$_doUpdate()\n        }\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    get(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            return map.id || ''\n        } if (name === 'class') {\n            return element.className\n        } else if (name === 'style') {\n            return element.style.cssText\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (!element.$__dataset) return undefined\n            return element.dataset[datasetName]\n        } else {\n            return map[name]\n        }\n    }\n\n    /**\n     * \n     */\n    has(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            return !!element.id\n        } else if (name === 'class') {\n            return !!element.className\n        } else if (name === 'style') {\n            return !!element.style.cssText\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (!element.$__dataset) return false\n            return Object.prototype.hasOwnProperty.call(element.dataset, datasetName)\n        } else {\n            return Object.prototype.hasOwnProperty.call(map, name)\n        }\n    }\n\n    /**\n     * \n     */\n    remove(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            element.id = ''\n        } else if (name === 'class' || name === 'style') {\n            this.set(name, '')\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (element.$__dataset) delete element.dataset[datasetName]\n        } else {\n            // \n            delete map[name]\n            this.$_doUpdate()\n        }\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    triggerUpdate() {\n        const map = this.$_map\n        const list = this.$_list\n\n        // \n        list.forEach(item => {\n            delete list[item.name]\n        })\n        delete list.class\n        delete list.style\n        list.length = 0\n\n        // \n        Object.keys(map).forEach(name => {\n            if (name !== 'id') {\n                const item = {name, value: map[name]}\n\n                list.push(item)\n                list[name] = item\n            }\n        })\n\n        const idValue = this.get('id')\n        const classValue = this.get('class')\n        const styleValue = this.get('style')\n        if (idValue) {\n            const item = {name: 'id', value: idValue}\n            list.push(item)\n            list.id = item\n        }\n        if (classValue) {\n            const item = {name: 'class', value: classValue}\n            list.push(item)\n            list.class = item\n        }\n        if (styleValue) {\n            const item = {name: 'style', value: styleValue}\n            list.push(item)\n            list.style = item\n        }\n    }\n}\n\nmodule.exports = Attribute\n","const Node = require('./node')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nclass TextNode extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.textMultiplexing) {\n            //  text \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new TextNode(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'text'\n\n        super.$$init(options, tree)\n\n        this.$_content = options.content || ''\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_content = ''\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.textMultiplexing) {\n            //  text \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        if (this.parentNode) this.parentNode.$$trigger('$$childNodesUpdate')\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$_nodeId,\n            pageId: this.$_pageId,\n            type: this.$_type,\n            content: this.$_content,\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeName() {\n        return '#text'\n    }\n\n    get nodeType() {\n        return Node.TEXT_NODE\n    }\n\n    get nodeValue() {\n        return this.textContent\n    }\n\n    set nodeValue(value) {\n        this.textContent = value\n    }\n\n    get textContent() {\n        return this.$_content\n    }\n\n    set textContent(value) {\n        value += ''\n\n        this.$_content = value\n        this.$_triggerParentUpdate()\n    }\n\n    get data() {\n        return this.textContent\n    }\n\n    set data(value) {\n        this.textContent = value\n    }\n\n    cloneNode() {\n        return this.ownerDocument.$$createTextNode({\n            content: this.$_content,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n}\n\nmodule.exports = TextNode\n","const Node = require('./node')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nclass Comment extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.commentMultiplexing) {\n            //  comment \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Comment(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'comment'\n\n        super.$$init(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.commentMultiplexing) {\n            //  comment \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$_nodeId,\n            pageId: this.$_pageId,\n            type: this.$_type,\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeName() {\n        return '#comment'\n    }\n\n    get nodeType() {\n        return Node.COMMENT_NODE\n    }\n\n    cloneNode() {\n        return this.ownerDocument.$$createComment({\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n}\n\nmodule.exports = Comment\n","const tool = require('./util/tool')\nconst cache = require('./util/cache')\nconst Window = require('./window')\nconst Document = require('./document')\nconst EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\n\nmodule.exports = {\n    createPage(route, config) {\n        if (config) cache.setConfig(config)\n\n        const pageId = `p-${tool.getId()}-/${route}`\n        const window = new Window(pageId)\n        const nodeIdMap = {}\n        const document = new Document(pageId, nodeIdMap)\n\n        cache.init(pageId, {\n            window,\n            document,\n            nodeIdMap,\n        })\n\n        return {\n            pageId,\n            window,\n            document,\n        }\n    },\n\n    destroyPage(pageId) {\n        cache.destroy(pageId)\n    },\n\n    //  miniprogram-element\n    $$adapter: {\n        cache,\n        EventTarget,\n        Event,\n        tool,\n    },\n}\n","const Document = require('./document')\nconst EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\nconst OriginalCustomEvent = require('./event/custom-event')\nconst Node = require('./node/node')\nconst Element = require('./node/element')\nconst TextNode = require('./node/text-node')\nconst Comment = require('./node/comment')\nconst ClassList = require('./node/class-list')\nconst Style = require('./node/style')\nconst Attribute = require('./node/attribute')\nconst cache = require('./util/cache')\nconst tool = require('./util/tool')\n\nlet lastRafTime = 0\nconst WINDOW_PROTOTYPE_MAP = {\n    event: Event.prototype,\n}\nconst ELEMENT_PROTOTYPE_MAP = {\n    attribute: Attribute.prototype,\n    classList: ClassList.prototype,\n    style: Style.prototype,\n}\nconst subscribeMap = {}\nconst globalObject = {}\nfunction noop() {}\n\nclass Window extends EventTarget {\n    constructor(pageId) {\n        super()\n\n        const timeOrigin = +new Date()\n\n        this.$_pageId = pageId\n\n        this.$_outerHeight = 0\n        this.$_outerWidth = 0\n        this.$_innerHeight = 0\n        this.$_innerWidth = 0\n\n        this.$_nowFetchingWebviewInfoPromise = null //  webview  promise \n\n        this.$_fetchDeviceInfo()\n        this.$_initInnerEvent()\n\n        //  'xxx' in XXX \n        this.onhashchange = null\n\n        // HTMLElement \n        this.$_elementConstructor = function HTMLElement(...args) {\n            return Element.$$create(...args)\n        }\n\n        // CustomEvent \n        this.$_customEventConstructor = class CustomEvent extends OriginalCustomEvent {\n            constructor(name = '', options = {}) {\n                options.timeStamp = +new Date() - timeOrigin\n                super(name, options)\n            }\n        }\n\n        // react \n        this.HTMLIFrameElement = function() {}\n    }\n\n    /**\n     * \n     */\n    $_initInnerEvent() {\n        // \n        this.addEventListener('scroll', () => {\n            const document = this.document\n            // \n            if (document) document.documentElement.$$scrollTimeStamp = +new Date()\n        })\n    }\n\n    /**\n     * \n     */\n    $_fetchDeviceInfo() {\n        try {\n            const info = swan.getSystemInfoSync()\n\n            this.$_outerHeight = info.screenHeight\n            this.$_outerWidth = info.screenWidth\n            this.$_innerHeight = info.windowHeight\n            this.$_innerWidth = info.windowWidth\n\n            this.$_screen.$$reset(info)\n            this.$_navigator.$$reset(info)\n        } catch (err) {\n            // ignore\n        }\n    }\n\n    /**\n     * \n     */\n    $_getAspectInfo(descriptor) {\n        if (!descriptor || typeof descriptor !== 'string') return\n\n        descriptor = descriptor.split('.')\n        const main = descriptor[0]\n        const sub = descriptor[1]\n        let method = descriptor[1]\n        let type = descriptor[2]\n        let prototype\n\n        // \n        if (main === 'window') {\n            if (WINDOW_PROTOTYPE_MAP[sub]) {\n                prototype = WINDOW_PROTOTYPE_MAP[sub]\n                method = type\n                type = descriptor[3]\n            } else {\n                prototype = Window.prototype\n            }\n        } else if (main === 'document') {\n            prototype = Document.prototype\n        } else if (main === 'element') {\n            if (ELEMENT_PROTOTYPE_MAP[sub]) {\n                prototype = ELEMENT_PROTOTYPE_MAP[sub]\n                method = type\n                type = descriptor[3]\n            } else {\n                prototype = Element.prototype\n            }\n        } else if (main === 'textNode') {\n            prototype = TextNode.prototype\n        } else if (main === 'comment') {\n            prototype = Comment.prototype\n        }\n\n        return {prototype, method, type}\n    }\n\n    /**\n     * \n     */\n    get $$miniprogram() {\n        return this.$_miniprogram\n    }\n\n    /**\n     * \n     */\n    get $$global() {\n        return globalObject\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        const pageId = this.$_pageId\n\n        Object.keys(subscribeMap).forEach(name => {\n            const handlersMap = subscribeMap[name]\n            if (handlersMap[pageId]) handlersMap[pageId] = null\n        })\n    }\n\n    /**\n     *  getComputedStyle \n     * https://developers.weixin.qq.com/miniprogram/dev/api.swan/NodesRef.fields.html\n     */\n    $$getComputedStyle(dom, computedStyle = []) {\n        tool.flushThrottleCache() //  setData\n        return new Promise((resolve, reject) => {\n            if (dom.tagName === 'BODY') {\n                this.$$createSelectorQuery().select('.miniprogram-root').fields({computedStyle}, res => (res ? resolve(res) : reject())).exec()\n            } else {\n                this.$$createSelectorQuery().select(`.node-${dom.$$nodeId}`).fields({computedStyle}, res => (res ? resolve(res) : reject())).exec()\n            }\n        })\n    }\n\n    /**\n     *  setData \n     */\n    $$forceRender() {\n        tool.flushThrottleCache()\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, options = {}) {\n        if (eventName === 'error' && typeof options.event === 'string') {\n            //  App.onError \n            const errStack = options.event\n            const errLines = errStack.split('\\n')\n            let message = ''\n            for (let i = 0, len = errLines.length; i < len; i++) {\n                const line = errLines[i]\n                if (line.trim().indexOf('at') !== 0) {\n                    message += (line + '\\n')\n                } else {\n                    break\n                }\n            }\n\n            const error = new Error(message)\n            error.stack = errStack\n            options.event = new this.$_customEventConstructor('error', {\n                target: this,\n                $$extra: {\n                    message,\n                    filename: '',\n                    lineno: 0,\n                    colno: 0,\n                    error,\n                },\n            })\n            options.args = [message, error]\n\n            // window.onerror \n            if (typeof this.onerror === 'function' && !this.onerror.$$isOfficial) {\n                const oldOnError = this.onerror\n                this.onerror = (event, message, error) => {\n                    oldOnError.call(this, message, '', 0, 0, error)\n                }\n                this.onerror.$$isOfficial = true // \n            }\n        }\n\n        super.$$trigger(eventName, options)\n    }\n\n    /**\n     * \n     */\n    $$getPrototype(descriptor) {\n        if (!descriptor || typeof descriptor !== 'string') return\n\n        descriptor = descriptor.split('.')\n        const main = descriptor[0]\n        const sub = descriptor[1]\n\n        if (main === 'window') {\n            if (WINDOW_PROTOTYPE_MAP[sub]) {\n                return WINDOW_PROTOTYPE_MAP[sub]\n            } else if (!sub) {\n                return Window.prototype\n            }\n        } else if (main === 'document') {\n            if (!sub) {\n                return Document.prototype\n            }\n        } else if (main === 'element') {\n            if (ELEMENT_PROTOTYPE_MAP[sub]) {\n                return ELEMENT_PROTOTYPE_MAP[sub]\n            } else if (!sub) {\n                return Element.prototype\n            }\n        } else if (main === 'textNode') {\n            if (!sub) {\n                return TextNode.prototype\n            }\n        } else if (main === 'comment') {\n            if (!sub) {\n                return Comment.prototype\n            }\n        }\n    }\n\n    /**\n     *  dom/bom \n     */\n    $$extend(descriptor, options) {\n        if (!descriptor || !options || typeof descriptor !== 'string' || typeof options !== 'object') return\n\n        const prototype = this.$$getPrototype(descriptor)\n        const keys = Object.keys(options)\n\n        if (prototype) keys.forEach(key => prototype[key] = options[key])\n    }\n\n    /**\n     *  dom/bom \n     */\n    $$addAspect(descriptor, func) {\n        if (!descriptor || !func || typeof descriptor !== 'string' || typeof func !== 'function') return\n\n        const {prototype, method, type} = this.$_getAspectInfo(descriptor)\n\n        // \n        if (prototype && method && type) {\n            const methodInPrototype = prototype[method]\n            if (typeof methodInPrototype !== 'function') return\n\n            // \n            if (!methodInPrototype.$$isHook) {\n                prototype[method] = function(...args) {\n                    const beforeFuncs = prototype[method].$$before || []\n                    const afterFuncs = prototype[method].$$after || []\n\n                    if (beforeFuncs.length) {\n                        for (const beforeFunc of beforeFuncs) {\n                            const isStop = beforeFunc.apply(this, args)\n                            if (isStop) return\n                        }\n                    }\n\n                    const res = methodInPrototype.apply(this, args)\n\n                    if (afterFuncs.length) {\n                        for (const afterFunc of afterFuncs) {\n                            afterFunc.call(this, res)\n                        }\n                    }\n\n                    return res\n                }\n                prototype[method].$$isHook = true\n                prototype[method].$$originalMethod = methodInPrototype\n            }\n\n            // \n            if (type === 'before') {\n                prototype[method].$$before = prototype[method].$$before || []\n                prototype[method].$$before.push(func)\n            } else if (type === 'after') {\n                prototype[method].$$after = prototype[method].$$after || []\n                prototype[method].$$after.push(func)\n            }\n        }\n    }\n\n    /**\n     *  dom/bom /\n     */\n    $$removeAspect(descriptor, func) {\n        if (!descriptor || !func || typeof descriptor !== 'string' || typeof func !== 'function') return\n\n        const {prototype, method, type} = this.$_getAspectInfo(descriptor)\n\n        // \n        if (prototype && method && type) {\n            const methodInPrototype = prototype[method]\n            if (typeof methodInPrototype !== 'function' || !methodInPrototype.$$isHook) return\n\n            // \n            if (type === 'before' && methodInPrototype.$$before) {\n                methodInPrototype.$$before.splice(methodInPrototype.$$before.indexOf(func), 1)\n            } else if (type === 'after' && methodInPrototype.$$after) {\n                methodInPrototype.$$after.splice(methodInPrototype.$$after.indexOf(func), 1)\n            }\n\n            if ((!methodInPrototype.$$before || !methodInPrototype.$$before.length) && (!methodInPrototype.$$after || !methodInPrototype.$$after.length)) {\n                prototype[method] = methodInPrototype.$$originalMethod\n            }\n        }\n    }\n\n    /**\n     * \n     */\n    $$subscribe(name, handler) {\n        if (typeof name !== 'string' || typeof handler !== 'function') return\n\n        const pageId = this.$_pageId\n        subscribeMap[name] = subscribeMap[name] || {}\n        subscribeMap[name][pageId] = subscribeMap[name][pageId] || []\n        subscribeMap[name][pageId].push(handler)\n    }\n\n    /**\n     * \n     */\n    $$unsubscribe(name, handler) {\n        const pageId = this.$_pageId\n\n        if (typeof name !== 'string' || !subscribeMap[name] || !subscribeMap[name][pageId]) return\n\n        const handlers = subscribeMap[name][pageId]\n        if (!handler) {\n            //  handler \n            handlers.length = 0\n        } else if (typeof handler === 'function') {\n            const index = handlers.indexOf(handler)\n            if (index !== -1) handlers.splice(index, 1)\n        }\n    }\n\n    /**\n     * \n     */\n    $$publish(name, data) {\n        if (typeof name !== 'string' || !subscribeMap[name]) return\n\n        Object.keys(subscribeMap[name]).forEach(pageId => {\n            const handlers = subscribeMap[name][pageId]\n            if (handlers && handlers.length) {\n                handlers.forEach(handler => {\n                    if (typeof handler !== 'function') return\n\n                    try {\n                        handler.call(null, data)\n                    } catch (err) {\n                        console.error(err)\n                    }\n                })\n            }\n        })\n    }\n\n    /**\n     * \n     */\n    get document() {\n        return cache.getDocument(this.$_pageId) || null\n    }\n\n    get location() {\n        return this.$_location\n    }\n\n    set location(href) {\n        this.$_location.href = href\n    }\n\n    get navigator() {\n        return this.$_navigator\n    }\n\n    get CustomEvent() {\n        return this.$_customEventConstructor\n    }\n\n    get Event() {\n        return Event\n    }\n\n    get self() {\n        return this\n    }\n\n    get localStorage() {\n        return this.$_localStorage\n    }\n\n    get sessionStorage() {\n        return this.$_sessionStorage\n    }\n\n    get screen() {\n        return this.$_screen\n    }\n\n    get history() {\n        return this.$_history\n    }\n\n    get outerHeight() {\n        return this.$_outerHeight\n    }\n\n    get outerWidth() {\n        return this.$_outerWidth\n    }\n\n    get innerHeight() {\n        return this.$_innerHeight\n    }\n\n    get innerWidth() {\n        return this.$_innerWidth\n    }\n\n    get Image() {\n        return this.document ? this.document.$$imageConstructor : noop\n    }\n\n    get setTimeout() {\n        return setTimeout.bind(null)\n    }\n\n    get clearTimeout() {\n        return clearTimeout.bind(null)\n    }\n\n    get setInterval() {\n        return setInterval.bind(null)\n    }\n\n    get clearInterval() {\n        return clearInterval.bind(null)\n    }\n\n    get HTMLElement() {\n        return this.$_elementConstructor\n    }\n\n    get Element() {\n        return Element\n    }\n\n    get Node() {\n        return Node\n    }\n\n    get RegExp() {\n        return RegExp\n    }\n\n    get Math() {\n        return Math\n    }\n\n    get Number() {\n        return Number\n    }\n\n    get Boolean() {\n        return Boolean\n    }\n\n    get String() {\n        return String\n    }\n\n    get Date() {\n        return Date\n    }\n\n    get Symbol() {\n        return Symbol\n    }\n\n    get parseInt() {\n        return parseInt\n    }\n\n    get parseFloat() {\n        return parseFloat\n    }\n\n    get console() {\n        return console\n    }\n\n    get performance() {\n        return this.$_performance\n    }\n\n    get SVGElement() {\n        // \n        console.warn('window.SVGElement is not supported')\n        return function() {}\n    }\n\n    get XMLHttpRequest() {\n        return this.$_xmlHttpRequestConstructor\n    }\n\n    get Worker() {\n        return this.$_workerConstructor\n    }\n\n    get SharedWorker() {\n        return this.$_sharedWorkerConstructor\n    }\n\n    get devicePixelRatio() {\n        return swan.getSystemInfoSync().pixelRatio\n    }\n\n    open(url) {\n        //  windowName  windowFeatures\n        this.location.$$open(url)\n    }\n\n    close() {\n        swan.navigateBack({\n            delta: 1,\n        })\n    }\n\n    getComputedStyle() {\n        // \n        console.warn('window.getComputedStyle is not supported, please use window.$$getComputedStyle instead of it')\n        return {\n            // vue transition \n            transitionDelay: '',\n            transitionDuration: '',\n            animationDelay: '',\n            animationDuration: '',\n        }\n    }\n\n    requestAnimationFrame(callback) {\n        if (typeof callback !== 'function') return\n\n        const now = new Date()\n        const nextRafTime = Math.max(lastRafTime + 16, now)\n        return setTimeout(() => {\n            callback(nextRafTime)\n            lastRafTime = nextRafTime\n        }, nextRafTime - now)\n    }\n\n    cancelAnimationFrame(timeId) {\n        return clearTimeout(timeId)\n    }\n\n    //  polyfill \n    setImmediate(callback, ...args) {\n        if (typeof callback !== 'function') return\n        return setTimeout(callback, 0, ...args)\n    }\n\n    //  polyfill \n    clearImmediate(timeId) {\n        return clearTimeout(timeId)\n    }\n}\n\nmodule.exports = Window\n","const tool = require('../util/tool')\n\n/**\n *  dom \n */\nfunction walkDomTree(node, cache) {\n    const tagMap = cache.tagMap = cache.tagMap || {}\n    const classMap = cache.classMap = cache.classMap || {}\n    const {tagName, classList} = node\n\n    // \n    tagMap[tagName] = tagMap[tagName] || []\n    tagMap[tagName].push(node)\n\n    // \n    for (const className of classList) {\n        classMap[className] = classMap[className] || []\n        classMap[className].push(node)\n    }\n\n    const children = node.children || []\n\n    for (const child of children) {\n        // \n        walkDomTree(child, cache)\n    }\n}\n\nclass Tree {\n    constructor(pageId, root, nodeIdMap, document) {\n        this.pageId = pageId\n        this.root = document.$$createElement(root, this)\n        this.nodeIdMap = nodeIdMap\n        this.idMap = {}\n        this.document = document\n\n        if (nodeIdMap) nodeIdMap[root.nodeId] = this.root\n\n        this.walk(root, this.root)\n    }\n\n    /**\n     *  ast\n     */\n    walk(ast, parentNode) {\n        const children = ast.children\n        const idMap = this.idMap\n        const nodeIdMap = this.nodeIdMap\n        const document = this.document\n\n        if (!children || !children.length) return\n\n        // \n        for (const child of children) {\n            let childNode\n\n            if (child.type === 'element') {\n                childNode = document.$$createElement(child, this)\n            } else if (child.type === 'text') {\n                childNode = document.$$createTextNode(child, this)\n            }\n\n            //  id \n            const id = childNode.id\n            if (id && !idMap[id]) {\n                idMap[id] = childNode\n            }\n\n            //  nodeId \n            if (nodeIdMap) nodeIdMap[child.nodeId] = childNode\n\n            // \n            parentNode.appendChild(childNode)\n\n            //  ast\n            this.walk(child, childNode)\n        }\n    }\n\n    /**\n     *  idMap\n     */\n    updateIdMap(id, node) {\n        this.idMap[id] = node\n    }\n\n    /**\n     *  id \n     */\n    getById(id) {\n        return this.idMap[id]\n    }\n\n    /**\n     * \n     */\n    getByTagName(tagName, node) {\n        const cache = {}\n        walkDomTree(node || this.root, cache)\n\n        if (tool.checkIsWxComponent(tagName.toLowerCase(), false)) {\n            // \n            tagName = tagName.toLowerCase().slice(3)\n            return (cache.tagMap['WX-COMPONENT'] || []).filter(findNode => findNode.behavior === tagName)\n        }\n\n        return cache.tagMap[tagName.toUpperCase()] || []\n    }\n\n    /**\n     * \n     */\n    getByClassName(className, node) {\n        const cache = {}\n        walkDomTree(node || this.root, cache)\n\n        return cache.classMap[className] || []\n    }\n}\n\nmodule.exports = Tree\n","/**\n * \n */\n\nmodule.exports = [\n    'position', 'top', 'bottom', 'right', 'left', 'float', 'clear',\n    'display', 'width', 'height', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'flex', 'flexBasis', 'flexGrow', 'flexShrink', 'flexDirection', 'flexWrap', 'justifyContent', 'alignItems', 'order',\n    'padding', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop',\n    'margin', 'marginBottom', 'marginLeft', 'marginRight', 'marginTop',\n\n    'background', 'backgroundClip', 'backgroundColor', 'backgroundImage', 'backgroundOrigin', 'backgroundPosition', 'backgroundRepeat', 'backgroundSize',\n    'border', 'borderRadius', 'borderBottomColor', 'borderBottomLeftRadius', 'borderBottomRightRadius', 'borderBottomStyle', 'borderBottomWidth', 'borderCollapse', 'borderImageOutset', 'borderImageRepeat', 'borderImageSlice', 'borderImageSource', 'borderImageWidth', 'borderLeftColor', 'borderLeftStyle', 'borderLeftWidth', 'borderRightColor', 'borderRightStyle', 'borderRightWidth', 'borderTopColor', 'borderTopLeftRadius', 'borderTopRightRadius', 'borderTopStyle', 'borderTopWidth',\n    'borderTop', 'borderBottom', 'borderRight', 'borderLeft',\n    'outline', 'borderWidth', 'borderStyle', 'borderColor',\n\n    'animation', 'animationDelay', 'animationDirection', 'animationDuration', 'animationFillMode', 'animationIterationCount', 'animationName', 'animationPlayState', 'animationTimingFunction',\n    'transition', 'transitionDelay', 'transitionDuration', 'transitionProperty', 'transitionTimingFunction',\n    'transform', 'transformOrigin', 'perspective', 'perspectiveOrigin', 'backfaceVisibility',\n\n    'font', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight',\n    'color', 'textAlign', 'textDecoration', 'textIndent', 'textRendering', 'textShadow', 'textOverflow', 'textTransform',\n    'wordBreak', 'wordSpacing', 'wordWrap', 'lineHeight', 'letterSpacing', 'whiteSpace', 'userSelect',\n\n    'visibility', 'opacity', 'zIndex', 'zoom', 'overflow', 'overflowX', 'overflowY',\n    'boxShadow', 'boxSizing', 'content', 'cursor', 'direction', 'listStyle', 'objectFit', 'pointerEvents', 'resize', 'verticalAlign', 'willChange', 'clip', 'clipPath', 'fill',\n\n    'touchAction', 'WebkitAppearance', 'mask', 'webkitMask', 'webkitBoxOrient', 'webkitLineClamp', 'overflowWrap'\n]\n","const Element = require('../element')\nconst cache = require('../../util/cache')\nconst Pool = require('../../util/pool')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLAnchorElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLAnchorElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n\n        this.$_protocol = 'http:'\n        this.$_hostname = ''\n        this.$_port = ''\n        this.$_pathname = '/'\n        this.$_search = ''\n        this.$_hash = ''\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_protocol = null\n        this.$_hostname = null\n        this.$_port = null\n        this.$_pathname = null\n        this.$_search = null\n        this.$_hash = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$_children.forEach(child => child.$$recycle())\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const href = node.href\n        if (href) html += ` href=\"${tool.escapeForHtmlGeneration(href)}\"`\n\n        const target = node.target\n        if (target) html += ` target=\"${tool.escapeForHtmlGeneration(target)}\"`\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.href = node.href || ''\n        this.target = node.target || ''\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            href: this.href,\n            target: this.target,\n        }\n    }\n\n    get protocol() {\n        return this.$_protocol\n    }\n\n    get hostname() {\n        return this.$_hostname\n    }\n\n    get port() {\n        return this.$_port\n    }\n\n    get pathname() {\n        return this.$_pathname\n    }\n\n    get search() {\n        return this.$_search\n    }\n\n    get hash() {\n        return this.$_hash\n    }\n\n    get target() {\n        return this.$_attrs.get('target')\n    }\n\n    set target(value) {\n        value = '' + value\n        this.$_attrs.set('target', value)\n    }\n}\n\nmodule.exports = HTMLAnchorElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\nconst pool = new Pool()\n\nclass Image extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Image(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        const width = options.width\n        const height = options.height\n\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\n\n        super.$$init(options, tree)\n\n        this.$_naturalWidth = 0\n        this.$_naturalHeight = 0\n\n        this.$_initRect()\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_naturalWidth = null\n        this.$_naturalHeight = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        this.$_initRect()\n        super.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_initRect() {\n        const width = this.$_attrs.get('width')\n        const height = this.$_attrs.get('height')\n\n        const widthNum = +width\n        if (!isNaN(+widthNum) && +widthNum >= 0) this.$_style.width = `${width}px`\n        else if (width && typeof width === 'string') this.$_style.width = width //  width=\"100%\"\n\n        const heightNum = +height\n        if (!isNaN(+heightNum) && +heightNum >= 0) this.$_style.height = `${height}px`\n        else if (height && typeof height === 'string') this.$_style.height = height //  width=\"100%\"\n    }\n\n    /**\n     * \n     */\n    $_resetRect(rect = {}) {\n        this.$_naturalWidth = rect.width || 0\n        this.$_naturalHeight = rect.height || 0\n\n        this.$_initRect()\n    }\n\n    /**\n     * \n     */\n    get src() {\n        return this.$_attrs.get('src') || ''\n    }\n\n    get width() {\n        return parseFloat(this.$_attrs.get('width'), 10) || 0\n    }\n\n    set width(value) {\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        this.$_attrs.set('width', value)\n        this.$_initRect()\n    }\n\n    get height() {\n        return parseFloat(this.$_attrs.get('height'), 10) || 0\n    }\n\n    set height(value) {\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        this.$_attrs.set('height', value)\n        this.$_initRect()\n    }\n\n    get naturalWidth() {\n        return this.$_naturalWidth\n    }\n\n    get naturalHeight() {\n        return this.$_naturalHeight\n    }\n}\n\nmodule.exports = Image\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLInputElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLInputElement(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const type = node.type\n        if (type) html += ` type=\"${tool.escapeForHtmlGeneration(type)}\"`\n\n        const value = node.value\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\n\n        const disabled = node.disabled\n        if (disabled) html += ' disabled'\n\n        const maxlength = node.maxlength\n        if (maxlength) html += ` maxlength=\"${tool.escapeForHtmlGeneration(maxlength)}\"`\n\n        const placeholder = node.placeholder\n        if (placeholder) html += ` placeholder=\"${tool.escapeForHtmlGeneration(placeholder)}\"`\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.name = node.name || ''\n        this.type = node.type || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.maxlength = node.maxlength\n        this.placeholder = node.placeholder || ''\n\n        // \n        this.mpplaceholderclass = node.mpplaceholderclass || ''\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            type: this.type,\n            value: this.value,\n            disabled: this.disabled,\n            maxlength: this.maxlength,\n            placeholder: this.placeholder,\n\n            // \n            mpplaceholderclass: this.mpplaceholderclass,\n        }\n    }\n\n    /**\n     * \n     */\n    get name() {\n        return this.$_attrs.get('name')\n    }\n\n    set name(value) {\n        value = '' + value\n        this.$_attrs.set('name', value)\n    }\n\n    get type() {\n        return this.$_attrs.get('type') || 'text'\n    }\n\n    set type(value) {\n        value = '' + value\n        this.$_attrs.set('type', value)\n    }\n\n    get value() {\n        const type = this.$_attrs.get('type')\n        const value = this.$_attrs.get('value')\n\n        if ((type === 'radio' || type === 'checkbox') && value === undefined) return 'on'\n        return value\n    }\n\n    set value(value) {\n        value = '' + value\n        this.$_attrs.set('value', value)\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    get maxlength() {\n        return this.$_attrs.get('maxlength')\n    }\n\n    set maxlength(value) {\n        this.$_attrs.set('maxlength', value)\n    }\n\n    get placeholder() {\n        return this.$_attrs.get('placeholder') || ''\n    }\n\n    set placeholder(value) {\n        value = '' + value\n        this.$_attrs.set('placeholder', value)\n    }\n\n    get autofocus() {\n        return !!this.$_attrs.get('autofocus')\n    }\n\n    set autofocus(value) {\n        value = !!value\n        this.$_attrs.set('autofocus', value)\n    }\n\n    set checked(value) {\n        this.$_attrs.set('checked', value)\n    }\n\n    get checked() {\n        return this.$_attrs.get('checked') || ''\n    }\n\n    focus() {\n        this.$_attrs.set('focus', true)\n    }\n\n    blur() {\n        this.$_attrs.set('focus', false)\n    }\n}\n\nmodule.exports = HTMLInputElement\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\nconst tool = require('../../util/tool')\r\n\r\nconst pool = new Pool()\r\n\r\nclass HTMLTextAreaElement extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new HTMLTextAreaElement(options, tree)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  $_generateHtml \r\n     */\r\n    $$dealWithAttrsForGenerateHtml(html, node) {\r\n        const type = node.type\r\n        if (type) html += ` type=\"${tool.escapeForHtmlGeneration(type)}\"`\r\n\r\n        const value = node.value\r\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\r\n\r\n        const disabled = node.disabled\r\n        if (disabled) html += ' disabled'\r\n\r\n        const maxlength = node.maxlength\r\n        if (maxlength) html += ` maxlength=\"${tool.escapeForHtmlGeneration(maxlength)}\"`\r\n\r\n        const placeholder = node.placeholder\r\n        if (placeholder) html += ` placeholder=\"${tool.escapeForHtmlGeneration(placeholder.replace(/\"/g, '\\\\\"'))}\"`\r\n\r\n        return html\r\n    }\r\n\r\n    /**\r\n     *  outerHTML  setter \r\n     */\r\n    $$dealWithAttrsForOuterHTML(node) {\r\n        this.name = node.name || ''\r\n        this.type = node.type || ''\r\n        this.value = node.value || ''\r\n        this.disabled = !!node.disabled\r\n        this.maxlength = node.maxlength\r\n        this.placeholder = node.placeholder || ''\r\n\r\n        // \r\n        this.mpplaceholderclass = node.mpplaceholderclass || ''\r\n    }\r\n\r\n    /**\r\n     *  cloneNode \r\n     */\r\n    $$dealWithAttrsForCloneNode() {\r\n        return {\r\n            type: this.type,\r\n            value: this.value,\r\n            disabled: this.disabled,\r\n            maxlength: this.maxlength,\r\n            placeholder: this.placeholder,\r\n\r\n            // \r\n            mpplaceholderclass: this.mpplaceholderclass,\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get type() {\r\n        return this.$_attrs.get('type') || 'textarea'\r\n    }\r\n\r\n    set type(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('type', value)\r\n    }\r\n\r\n    get value() {\r\n        return this.$_attrs.get('value')\r\n    }\r\n\r\n    set value(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('value', value)\r\n    }\r\n\r\n    get disabled() {\r\n        return !!this.$_attrs.get('disabled')\r\n    }\r\n\r\n    set disabled(value) {\r\n        value = !!value\r\n        this.$_attrs.set('disabled', value)\r\n    }\r\n\r\n    get maxlength() {\r\n        return this.$_attrs.get('maxlength')\r\n    }\r\n\r\n    set maxlength(value) {\r\n        this.$_attrs.set('maxlength', value)\r\n    }\r\n\r\n    get placeholder() {\r\n        return this.$_attrs.get('placeholder') || ''\r\n    }\r\n\r\n    set placeholder(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('placeholder', value)\r\n    }\r\n\r\n    get autofocus() {\r\n        return !!this.$_attrs.get('autofocus')\r\n    }\r\n\r\n    set autofocus(value) {\r\n        value = !!value\r\n        this.$_attrs.set('autofocus', value)\r\n    }\r\n\r\n    get selectionStart() {\r\n        const value = +this.$_attrs.get('selection-start')\r\n        return value !== undefined ? value : -1\r\n    }\r\n\r\n    set selectionStart(value) {\r\n        this.$_attrs.set('selection-start', value)\r\n    }\r\n\r\n    get selectionEnd() {\r\n        const value = +this.$_attrs.get('selection-end')\r\n        return value !== undefined ? value : -1\r\n    }\r\n\r\n    set selectionEnd(value) {\r\n        this.$_attrs.set('selection-end', value)\r\n    }\r\n\r\n    focus() {\r\n        this.$_attrs.set('focus', true)\r\n    }\r\n\r\n    blur() {\r\n        this.$_attrs.set('focus', false)\r\n    }\r\n}\r\n\r\nmodule.exports = HTMLTextAreaElement\r\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\n\r\nconst pool = new Pool()\r\n\r\nclass HTMLVideoElement extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new HTMLVideoElement(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$init \r\n     */\r\n    $$init(options, tree) {\r\n        const width = options.width\r\n        const height = options.height\r\n\r\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\r\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\r\n\r\n        super.$$init(options, tree)\r\n\r\n        this.$_initRect()\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $_triggerParentUpdate() {\r\n        this.$_initRect()\r\n        super.$_triggerParentUpdate()\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $_initRect() {\r\n        const width = parseInt(this.$_attrs.get('width'), 10)\r\n        const height = parseInt(this.$_attrs.get('height'), 10)\r\n\r\n        if (typeof width === 'number' && width >= 0) this.$_style.width = `${width}px`\r\n        if (typeof height === 'number' && height >= 0) this.$_style.height = `${height}px`\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get src() {\r\n        return this.$_attrs.get('src') || ''\r\n    }\r\n\r\n    set src(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('src', value)\r\n    }\r\n\r\n    get width() {\r\n        return +this.$_attrs.get('width') || 0\r\n    }\r\n\r\n    set width(value) {\r\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\r\n\r\n        this.$_attrs.set('width', value)\r\n        this.$_initRect()\r\n    }\r\n\r\n    get height() {\r\n        return +this.$_attrs.get('height') || 0\r\n    }\r\n\r\n    set height(value) {\r\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\r\n\r\n        this.$_attrs.set('height', value)\r\n        this.$_initRect()\r\n    }\r\n\r\n    get autoplay() {\r\n        return !!this.$_attrs.get('autoplay')\r\n    }\r\n\r\n    set autoplay(value) {\r\n        value = !!value\r\n        this.$_attrs.set('autoplay', value)\r\n    }\r\n\r\n    get loop() {\r\n        return !!this.$_attrs.get('loop')\r\n    }\r\n\r\n    set loop(value) {\r\n        value = !!value\r\n        this.$_attrs.set('loop', value)\r\n    }\r\n\r\n    get muted() {\r\n        return !!this.$_attrs.get('muted')\r\n    }\r\n\r\n    set muted(value) {\r\n        value = !!value\r\n        this.$_attrs.set('muted', value)\r\n    }\r\n\r\n    get controls() {\r\n        const value = this.$_attrs.get('controls')\r\n        return value !== undefined ? !!value : true\r\n    }\r\n\r\n    set controls(value) {\r\n        this.$_attrs.set('controls', value)\r\n    }\r\n\r\n    get poster() {\r\n        return this.$_attrs.get('poster')\r\n    }\r\n\r\n    set poster(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('poster', value)\r\n    }\r\n\r\n    get currentTime() {\r\n        return +this.$_attrs.get('currentTime') || 0\r\n    }\r\n\r\n    get buffered() {\r\n        return this.$_attrs.get('buffered')\r\n    }\r\n}\r\n\r\nmodule.exports = HTMLVideoElement\r\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\nconst pool = new Pool()\n\nclass HTMLCanvasElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLCanvasElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        const width = options.width\n        const height = options.height\n\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\n\n        super.$$init(options, tree)\n\n        this.$_node = null\n\n        this.$_initRect()\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  canvas \n     */\n    $$prepare() {\n        return new Promise((resolve, reject) => {\n            this.$$getNodesRef().then(nodesRef => nodesRef.node(res => {\n                const {width, height} = this\n                this.$_node = res.node\n\n                //  canvas \n                this.$_node.width = width\n                this.$_node.height = height\n\n                resolve(this)\n            }).exec()).catch(reject)\n        })\n    }\n\n    get $$node() {\n        return this.$_node\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        this.$_initRect()\n        super.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_initRect() {\n        const width = parseInt(this.$_attrs.get('width'), 10)\n        const height = parseInt(this.$_attrs.get('height'), 10)\n\n        if (typeof width === 'number' && width >= 0) {\n            this.$_style.width = `${width}px`\n        }\n        if (typeof height === 'number' && height >= 0) {\n            this.$_style.height = `${height}px`\n        }\n    }\n\n    /**\n     * \n     */\n    get width() {\n        if (this.$_node) return this.$_node.width\n        else return +this.$_attrs.get('width') || 0\n    }\n\n    set width(value) {\n        value = parseFloat(value)\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        if (this.$_node) this.$_node.width = value\n        else this.$_attrs.set('width', value)\n    }\n\n    get height() {\n        if (this.$_node) return this.$_node.height\n        else return +this.$_attrs.get('height') || 0\n    }\n\n    set height(value) {\n        value = parseFloat(value)\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        if (this.$_node) this.$_node.height = value\n        else this.$_attrs.set('height', value)\n    }\n\n    getContext(type) {\n        if (!this.$_node) {\n            console.warn('canvas is not prepared, please call $$prepare method first')\n            return\n        }\n        return this.$_node.getContext(type)\n    }\n\n    createPath2D(...args) {\n        return this.$_node.createPath2D(...args)\n    }\n\n    createImage(...args) {\n        return this.$_node.createImage(...args)\n    }\n\n    createImageData(...args) {\n        return this.$_node.createImageData(...args)\n    }\n\n    requestAnimationFrame(...args) {\n        return this.$_node.requestAnimationFrame(...args)\n    }\n\n    cancelAnimationFrame(...args) {\n        return this.$_node.cancelAnimationFrame(...args)\n    }\n\n    toDataURL(...args) {\n        return this.$_node.toDataURL(...args)\n    }\n}\n\nmodule.exports = HTMLCanvasElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLSelectElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLSelectElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n        this.$$resetOptions()\n    }\n\n    /**\n     *  options \n     */\n    $$resetOptions() {\n        const value = this.value\n\n        if (value !== undefined) {\n            this.options.forEach(child => child.$$updateSelected(child.value === value))\n        } else {\n            this.options.forEach((child, index) => child.$$updateSelected(index === 0))\n        }\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const value = node.value\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\n\n        const disabled = node.disabled\n        if (disabled) html += ' disabled'\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.name = node.name || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.selectedIndex = node.selectedIndex || 0\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            value: this.value,\n            disabled: this.disabled,\n        }\n    }\n\n    /**\n     * \n     */\n    get name() {\n        return this.$_attrs.get('name')\n    }\n\n    set name(value) {\n        value = '' + value\n        return this.$_attrs.set('name', value)\n    }\n\n    get value() {\n        let value = this.$_attrs.get('value')\n        if (value === undefined) {\n            //  value  options  value\n            const option = this.options.find(option => !!option.selected)\n            if (option) {\n                value = option.value\n                this.$$setAttributeWithoutUpdate('value', value)\n            }\n        }\n        return value\n    }\n\n    set value(value) {\n        value = '' + value\n\n        this.$_attrs.set('value', value)\n\n        //  selectedIndex \n        this.$_attrs.set('selectedIndex', this.options.findIndex(option => option.value === value))\n\n        //  options  selected\n        this.$$resetOptions()\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    get selectedIndex() {\n        return +this.$_attrs.get('selectedIndex')\n    }\n\n    set selectedIndex(value) {\n        value = +value\n\n        this.$_attrs.set('selectedIndex', value)\n\n        //  value \n        this.$_attrs.set('value', this.options[value] && this.options[value].value || '')\n\n        //  options  selected\n        this.$$resetOptions()\n    }\n\n    get options() {\n        //  option\n        return this.$_children.filter(child => child.tagName === 'OPTION' && !child.disabled)\n    }\n}\n\nmodule.exports = HTMLSelectElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLOptionElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLOptionElement(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const value = node.value\n        if (value) html += ` value=\"${tool.tool.escapeForHtmlGeneration(value)}\"`\n\n        const label = node.label\n        if (label) html += ` label=\"${tool.tool.escapeForHtmlGeneration(label)}\"`\n\n        const selected = node.selected\n        if (selected) html += ' selected'\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.label = node.label || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.selected = !!node.selected\n    }\n\n    /**\n     *  selected select \n     */\n    $$updateSelected(value) {\n        value = !!value\n        this.$_attrs.set('selected', value)\n    }\n\n    get label() {\n        return this.$_attrs.get('label') || this.textContent\n    }\n\n    set label(value) {\n        value = '' + value\n        this.$_attrs.set('label', value)\n    }\n\n    get value() {\n        const value = this.$_attrs.get('value')\n        return value !== undefined ? value : this.label\n    }\n\n    set value(value) {\n        value = '' + value\n        this.$_attrs.set('value', value)\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    set selected(value) {\n        this.$$updateSelected(value)\n\n        //  select  selectedIndex  value select\n        const parentNode = this.parentNode\n        if (parentNode && parentNode.tagName === 'SELECT') {\n            parentNode.value = this.value\n        }\n    }\n\n    get selected() {\n        return !!this.$_attrs.get('selected')\n    }\n}\n\nmodule.exports = HTMLOptionElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\nconst pool = new Pool()\n\nclass NotSupport extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new NotSupport(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n\n        // \n        const window = cache.getWindow(this.$_pageId)\n        if (window.onDealWithNotSupportDom) window.onDealWithNotSupportDom(this)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    get behavior() {\n        return 'not-support'\n    }\n}\n\nmodule.exports = NotSupport\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\nconst tool = require('../../util/tool')\r\n\r\nconst pool = new Pool()\r\n\r\nclass WxComponent extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new WxComponent(options, tree)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    get behavior() {\r\n        return this.$_attrs.get('behavior') || ''\r\n    }\r\n\r\n    set behavior(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('behavior', value)\r\n    }\r\n\r\n    get value() {\r\n        return this.$_attrs.get('value')\r\n    }\r\n\r\n    set value(value) {\r\n        this.$_attrs.set('value', value)\r\n    }\r\n\r\n    get scrollTop() {\r\n        return this.$_attrs.get('scroll-top') || 0\r\n    }\r\n\r\n    set scrollTop(value) {\r\n        value = parseInt(value, 10)\r\n\r\n        if (!isNaN(value)) {\r\n            this.$_attrs.set('scroll-top', value)\r\n        }\r\n    }\r\n\r\n    get scrollLeft() {\r\n        return this.$_attrs.get('scroll-left') || 0\r\n    }\r\n\r\n    set scrollLeft(value) {\r\n        value = parseInt(value, 10)\r\n\r\n        if (!isNaN(value)) {\r\n            this.$_attrs.set('scroll-left', value)\r\n        }\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        super.setAttribute(name, value)\r\n\r\n        if (name === 'scroll-into-view') {\r\n            // TODOscroll-into-view  scroll-top \r\n            tool.flushThrottleCache() //  setData\r\n            Promise.resolve().then(() => {\r\n                const scrollItem = this.ownerDocument.getElementById(value)\r\n                if (!scrollItem) return\r\n\r\n                const propName = this.getAttribute('scroll-x') ? 'scroll-left' : this.getAttribute('scroll-y') ? 'scroll-top' : ''\r\n                if (!propName) return\r\n\r\n                const window = cache.getWindow(this.$_pageId)\r\n                Promise.all([\r\n                    new Promise(resolve => window.$$createSelectorQuery().select(`.node-${this.$_nodeId}`).fields({rect: true, scrollOffset: true}).exec(resolve)),\r\n                    scrollItem.$$getBoundingClientRect()\r\n                ]).then(res => {\r\n                    const rectName = propName === 'scroll-left' ? 'left' : 'top'\r\n                    const scrollRect = res[0][0]\r\n                    const itemRect = res[1]\r\n\r\n                    super.setAttribute(propName, itemRect[rectName] - scrollRect[rectName] + scrollRect[tool.toCamel(propName)])\r\n                }).catch(console.error)\r\n            }).catch(console.error)\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = WxComponent\r\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\n\r\nconst pool = new Pool()\r\n\r\nclass WxCustomComponent extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new WxCustomComponent(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$init \r\n     */\r\n    $$init(options, tree) {\r\n        this.$_behavior = options.componentName\r\n\r\n        super.$$init(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$destroy \r\n     */\r\n    $$destroy() {\r\n        super.$$destroy()\r\n\r\n        this.$_behavior = null\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    get behavior() {\r\n        return this.$_behavior\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        if (name.indexOf('kbone-func-') === 0) {\r\n            // \r\n            const realName = name.slice('kbone-func-'.length)\r\n            if (typeof value === 'function') {\r\n                super.setAttribute(realName, value)\r\n            } else {\r\n                const window = cache.getWindow(this.$_pageId)\r\n                super.setAttribute(realName, window[value])\r\n            }\r\n        } else {\r\n            super.setAttribute(name, value)\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = WxCustomComponent\r\n"],"sourceRoot":""}